<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveFunctor #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE ExistentialQuantification #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">CheckedIO.Core</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><span class="hs-comment">-- * IOE: Checked IO with exceptions</span></span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier">IOE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIOE"><span class="hs-identifier">UnsafeIOE</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier">MonadRunIOE</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIOE"><span class="hs-identifier">MonadRunAsIOE</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><span class="hs-comment">-- * IO convenience type</span></span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#IO"><span class="hs-identifier">IO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIO"><span class="hs-identifier">MonadRunIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIO"><span class="hs-identifier">MonadRunAsIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#runIO"><span class="hs-identifier">runIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#withRunAsIO"><span class="hs-identifier">withRunAsIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><span class="hs-comment">-- * UIO convenience type</span></span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#UIO"><span class="hs-identifier">UIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunUIO"><span class="hs-identifier">MonadRunUIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsUIO"><span class="hs-identifier">MonadRunAsUIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#runUIO"><span class="hs-identifier">runUIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#withRunAsUIO"><span class="hs-identifier">withRunAsUIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#fromUIO"><span class="hs-identifier">fromUIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#fromUIOWith"><span class="hs-identifier">fromUIOWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#uioToIO"><span class="hs-identifier">uioToIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Exception handling</span></span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#throw"><span class="hs-identifier">throw</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#throwTo"><span class="hs-identifier">throwTo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#throwImprecise"><span class="hs-identifier">throwImprecise</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#catch"><span class="hs-identifier">catch</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#catchAny"><span class="hs-identifier">catchAny</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#try"><span class="hs-identifier">try</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#mapExceptionM"><span class="hs-identifier">mapExceptionM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#liftE"><span class="hs-identifier">liftE</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#evaluate"><span class="hs-identifier">evaluate</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Cleanup (no recovery)</span></span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#bracket"><span class="hs-identifier">bracket</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#bracket_"><span class="hs-identifier">bracket_</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#bracketOnError"><span class="hs-identifier">bracketOnError</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#bracketOnError_"><span class="hs-identifier">bracketOnError_</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#finally"><span class="hs-identifier">finally</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#onException"><span class="hs-identifier">onException</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#withException"><span class="hs-identifier">withException</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Masking</span></span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#mask"><span class="hs-identifier">mask</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#uninterruptibleMask"><span class="hs-identifier">uninterruptibleMask</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#mask_"><span class="hs-identifier">mask_</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#uninterruptibleMask_"><span class="hs-identifier">uninterruptibleMask_</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Lifted exception handling</span></span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier">MonadCatchIO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#tryM"><span class="hs-identifier">tryM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#bracketM"><span class="hs-identifier">bracketM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#bracketM_"><span class="hs-identifier">bracketM_</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#bracketOnErrorM"><span class="hs-identifier">bracketOnErrorM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#bracketOnErrorM_"><span class="hs-identifier">bracketOnErrorM_</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#finallyM"><span class="hs-identifier">finallyM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#onExceptionM"><span class="hs-identifier">onExceptionM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#withExceptionM"><span class="hs-identifier">withExceptionM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#maskM"><span class="hs-identifier">maskM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#uninterruptibleMaskM"><span class="hs-identifier">uninterruptibleMaskM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#maskM_"><span class="hs-identifier">maskM_</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#uninterruptibleMaskM_"><span class="hs-identifier">uninterruptibleMaskM_</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Interop with unchecked IO</span></span><span>
</span><span id="line-82"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#Main"><span class="hs-identifier">Main</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier">UnsafeIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#checkIO"><span class="hs-identifier">checkIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-85"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#checkIOWith"><span class="hs-identifier">checkIOWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#checkUIOWith"><span class="hs-identifier">checkUIOWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#unsafeCheckIO"><span class="hs-identifier">unsafeCheckIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#unsafeCheckUIO"><span class="hs-identifier">unsafeCheckUIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#uncheckIOE"><span class="hs-identifier">uncheckIOE</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#uncheckUIO"><span class="hs-identifier">uncheckUIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Exceptions in checked IO actions</span></span><span>
</span><span id="line-93"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier">AnyException</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier">SomeSyncException</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ThreadId</span></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Exception</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">SomeException</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GHC</span></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception.Base</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GHC</span></span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">asum</span></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromMaybe</span></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Proxy</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">cast</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">typeOf</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">typeRep</span></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Void</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Void</span></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Stack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">HasCallStack</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">withFrozenCallStack</span></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">System.IO</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GHC</span></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="CheckedIO.Prelude.NoIO.html"><span class="hs-identifier">CheckedIO.Prelude.NoIO</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="annot"><span class="hs-comment">-- | An alias for the normal unsafe 'GHC.IO' type.</span></span><span>
</span><span id="line-112"></span><span class="hs-keyword">type</span><span> </span><span id="UnsafeIO"><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-var">UnsafeIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GHC.IO</span></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">-- | A checked IO action that can only throw synchronous exceptions</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- of the given type.</span><span>
</span><span id="line-116"></span><span class="hs-comment">--</span><span>
</span><span id="line-117"></span><span class="hs-comment">-- Morally equivalent to @UIO (Either e a)@, but implemented without</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- the `Either` for performance.</span><span>
</span><span id="line-119"></span><span class="hs-keyword">newtype</span><span> </span><span id="IOE"><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-var">IOE</span></a></span></span><span> </span><span id="local-6989586621679040201"><span class="annot"><a href="#local-6989586621679040201"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679040202"><span class="annot"><a href="#local-6989586621679040202"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UnsafeIOE"><span class="annot"><a href="CheckedIO.Core.html#UnsafeIOE"><span class="hs-identifier hs-var">UnsafeIOE</span></a></span></span><span> </span><span class="hs-special">{</span><span id="unIOE"><span class="annot"><span class="annottext">forall e a. IOE e a -&gt; UnsafeIO a
</span><a href="CheckedIO.Core.html#unIOE"><span class="hs-identifier hs-var hs-var">unIOE</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040202"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679040823"><span id="local-6989586621679040828"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; IOE e a -&gt; IOE e b)
-&gt; (forall a b. a -&gt; IOE e b -&gt; IOE e a) -&gt; Functor (IOE e)
forall a b. a -&gt; IOE e b -&gt; IOE e a
forall a b. (a -&gt; b) -&gt; IOE e a -&gt; IOE e b
forall e a b. a -&gt; IOE e b -&gt; IOE e a
forall e a b. (a -&gt; b) -&gt; IOE e a -&gt; IOE e b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall e a b. (a -&gt; b) -&gt; IOE e a -&gt; IOE e b
fmap :: forall a b. (a -&gt; b) -&gt; IOE e a -&gt; IOE e b
$c&lt;$ :: forall e a b. a -&gt; IOE e b -&gt; IOE e a
&lt;$ :: forall a b. a -&gt; IOE e b -&gt; IOE e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679040836"><span id="local-6989586621679040841"><span id="local-6989586621679040845"><span id="local-6989586621679040849"><span id="local-6989586621679040853"><span class="annot"><span class="annottext">Functor (IOE e)
Functor (IOE e)
-&gt; (forall a. a -&gt; IOE e a)
-&gt; (forall a b. IOE e (a -&gt; b) -&gt; IOE e a -&gt; IOE e b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; IOE e a -&gt; IOE e b -&gt; IOE e c)
-&gt; (forall a b. IOE e a -&gt; IOE e b -&gt; IOE e b)
-&gt; (forall a b. IOE e a -&gt; IOE e b -&gt; IOE e a)
-&gt; Applicative (IOE e)
forall e. Functor (IOE e)
forall a. a -&gt; IOE e a
forall e a. a -&gt; IOE e a
forall a b. IOE e a -&gt; IOE e b -&gt; IOE e a
forall a b. IOE e a -&gt; IOE e b -&gt; IOE e b
forall a b. IOE e (a -&gt; b) -&gt; IOE e a -&gt; IOE e b
forall e a b. IOE e a -&gt; IOE e b -&gt; IOE e a
forall e a b. IOE e a -&gt; IOE e b -&gt; IOE e b
forall e a b. IOE e (a -&gt; b) -&gt; IOE e a -&gt; IOE e b
forall a b c. (a -&gt; b -&gt; c) -&gt; IOE e a -&gt; IOE e b -&gt; IOE e c
forall e a b c. (a -&gt; b -&gt; c) -&gt; IOE e a -&gt; IOE e b -&gt; IOE e c
forall (f :: * -&gt; *).
Functor f
-&gt; (forall a. a -&gt; f a)
-&gt; (forall a b. f (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c)
-&gt; (forall a b. f a -&gt; f b -&gt; f b)
-&gt; (forall a b. f a -&gt; f b -&gt; f a)
-&gt; Applicative f
$cpure :: forall e a. a -&gt; IOE e a
pure :: forall a. a -&gt; IOE e a
$c&lt;*&gt; :: forall e a b. IOE e (a -&gt; b) -&gt; IOE e a -&gt; IOE e b
&lt;*&gt; :: forall a b. IOE e (a -&gt; b) -&gt; IOE e a -&gt; IOE e b
$cliftA2 :: forall e a b c. (a -&gt; b -&gt; c) -&gt; IOE e a -&gt; IOE e b -&gt; IOE e c
liftA2 :: forall a b c. (a -&gt; b -&gt; c) -&gt; IOE e a -&gt; IOE e b -&gt; IOE e c
$c*&gt; :: forall e a b. IOE e a -&gt; IOE e b -&gt; IOE e b
*&gt; :: forall a b. IOE e a -&gt; IOE e b -&gt; IOE e b
$c&lt;* :: forall e a b. IOE e a -&gt; IOE e b -&gt; IOE e a
&lt;* :: forall a b. IOE e a -&gt; IOE e b -&gt; IOE e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Applicative</span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679040861"><span id="local-6989586621679040866"><span id="local-6989586621679040870"><span class="annot"><span class="annottext">Applicative (IOE e)
Applicative (IOE e)
-&gt; (forall a b. IOE e a -&gt; (a -&gt; IOE e b) -&gt; IOE e b)
-&gt; (forall a b. IOE e a -&gt; IOE e b -&gt; IOE e b)
-&gt; (forall a. a -&gt; IOE e a)
-&gt; Monad (IOE e)
forall e. Applicative (IOE e)
forall a. a -&gt; IOE e a
forall e a. a -&gt; IOE e a
forall a b. IOE e a -&gt; IOE e b -&gt; IOE e b
forall a b. IOE e a -&gt; (a -&gt; IOE e b) -&gt; IOE e b
forall e a b. IOE e a -&gt; IOE e b -&gt; IOE e b
forall e a b. IOE e a -&gt; (a -&gt; IOE e b) -&gt; IOE e b
forall (m :: * -&gt; *).
Applicative m
-&gt; (forall a b. m a -&gt; (a -&gt; m b) -&gt; m b)
-&gt; (forall a b. m a -&gt; m b -&gt; m b)
-&gt; (forall a. a -&gt; m a)
-&gt; Monad m
$c&gt;&gt;= :: forall e a b. IOE e a -&gt; (a -&gt; IOE e b) -&gt; IOE e b
&gt;&gt;= :: forall a b. IOE e a -&gt; (a -&gt; IOE e b) -&gt; IOE e b
$c&gt;&gt; :: forall e a b. IOE e a -&gt; IOE e b -&gt; IOE e b
&gt;&gt; :: forall a b. IOE e a -&gt; IOE e b -&gt; IOE e b
$creturn :: forall e a. a -&gt; IOE e a
return :: forall a. a -&gt; IOE e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monad</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | Run an 'IOE' action in the given monad.</span><span>
</span><span id="line-123"></span><span class="hs-comment">--</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- e.g. to convert an 'IOE' action to an 'ExceptT' stack on top of 'UIO':</span><span>
</span><span id="line-125"></span><span class="hs-comment">--</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- newtype ExceptT e m a = ExceptT { unExceptT :: m (Either e a) }</span><span>
</span><span id="line-128"></span><span class="hs-comment">--   deriving (Functor, Applicative, Monad)</span><span>
</span><span id="line-129"></span><span class="hs-comment">--</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- instance MonadRunUIO m =&gt; MonadRunIOE e (ExceptT e m) where</span><span>
</span><span id="line-131"></span><span class="hs-comment">--   runIOE = ExceptT . try</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-133"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679040255"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040254"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="MonadRunIOE"><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-var">MonadRunIOE</span></a></span></span><span> </span><span id="local-6989586621679040254"><span class="annot"><a href="#local-6989586621679040254"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679040255"><span class="annot"><a href="#local-6989586621679040255"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679040255"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040254"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-134"></span><span>  </span><span id="runIOE"><span class="annot"><a href="CheckedIO.Core.html#runIOE"><span class="hs-identifier hs-type">runIOE</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679040259"><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040254"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040259"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040255"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040259"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679040260"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040260"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040260"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040260"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-137"></span><span>  </span><span id="local-6989586621679040886"><span class="annot"><span class="annottext">runIOE :: forall a. IOE e a -&gt; IOE e a
</span><a href="CheckedIO.Core.html#runIOE"><span class="hs-identifier hs-var hs-var hs-var hs-var">runIOE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; IOE e a
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-comment">-- | Provide a function for running an action in the given monad in 'IOE'.</span><span>
</span><span id="line-140"></span><span class="hs-comment">--</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- Instances must satisfy the following laws:</span><span>
</span><span id="line-142"></span><span class="hs-comment">--</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- [Identity] @withRunAsIOE (\\run -&gt; run m) === m@</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- [Inverse]  @withRunAsIOE (\\_ -&gt; m) === runIOE m@</span><span>
</span><span id="line-145"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040263"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040264"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="MonadRunAsIOE"><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIOE"><span class="hs-identifier hs-var">MonadRunAsIOE</span></a></span></span><span> </span><span id="local-6989586621679040263"><span class="annot"><a href="#local-6989586621679040263"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679040264"><span class="annot"><a href="#local-6989586621679040264"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679040264"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040263"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-146"></span><span>  </span><span id="withRunAsIOE"><span class="annot"><a href="CheckedIO.Core.html#withRunAsIOE"><span class="hs-identifier hs-type">withRunAsIOE</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679040268"><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040267"><span class="annot"><a href="#local-6989586621679040267"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679040264"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040267"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040263"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040267"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040263"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040268"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040264"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040268"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679040269"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040269"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIOE"><span class="hs-identifier hs-type">MonadRunAsIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040269"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040269"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-149"></span><span>  </span><span id="local-6989586621679040896"><span class="annot"><span class="annottext">withRunAsIOE :: forall b. ((forall a. IOE e a -&gt; IOE e a) -&gt; IOE e b) -&gt; IOE e b
</span><a href="CheckedIO.Core.html#withRunAsIOE"><span class="hs-identifier hs-var hs-var hs-var hs-var">withRunAsIOE</span></a></span></span><span> </span><span id="local-6989586621679040897"><span class="annot"><span class="annottext">(forall a. IOE e a -&gt; IOE e a) -&gt; IOE e b
</span><a href="#local-6989586621679040897"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. IOE e a -&gt; IOE e a) -&gt; IOE e b
</span><a href="#local-6989586621679040897"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; IOE e a
forall a. a -&gt; a
forall a. IOE e a -&gt; IOE e a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="hs-comment">{----- IO convenience type -----}</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="annot"><span class="hs-comment">-- | A helper containing any synchronous exception.</span></span><span>
</span><span id="line-154"></span><span class="hs-keyword">type</span><span> </span><span id="IO"><span class="annot"><a href="CheckedIO.Core.html#IO"><span class="hs-identifier hs-var">IO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-type">SomeSyncException</span></a></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="annot"><span class="hs-comment">-- | 'MonadRunIOE' specialized to 'IO'</span></span><span>
</span><span id="line-157"></span><span class="hs-keyword">type</span><span> </span><span id="MonadRunIO"><span class="annot"><a href="CheckedIO.Core.html#MonadRunIO"><span class="hs-identifier hs-var">MonadRunIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-type">SomeSyncException</span></a></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="annot"><span class="hs-comment">-- | 'MonadRunAsIOE' specialized to 'IO'</span></span><span>
</span><span id="line-160"></span><span class="hs-keyword">type</span><span> </span><span id="MonadRunAsIO"><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIO"><span class="hs-identifier hs-var">MonadRunAsIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIOE"><span class="hs-identifier hs-type">MonadRunAsIOE</span></a></span><span> </span><span class="annot"><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-type">SomeSyncException</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="annot"><span class="hs-comment">-- | 'runIOE' specialized to 'IO'</span></span><span>
</span><span id="line-163"></span><span id="local-6989586621679040272"><span id="local-6989586621679040274"><span class="annot"><a href="CheckedIO.Core.html#runIO"><span class="hs-identifier hs-type">runIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIO"><span class="hs-identifier hs-type">MonadRunIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040272"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040274"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040272"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040274"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-164"></span><span id="runIO"><span class="annot"><span class="annottext">runIO :: forall (m :: * -&gt; *) a. MonadRunIO m =&gt; IO a -&gt; m a
</span><a href="CheckedIO.Core.html#runIO"><span class="hs-identifier hs-var hs-var">runIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE SomeSyncException a -&gt; m a
forall a. IOE SomeSyncException a -&gt; m a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; IOE e a -&gt; m a
</span><a href="CheckedIO.Core.html#runIOE"><span class="hs-identifier hs-var">runIOE</span></a></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="annot"><span class="hs-comment">-- | 'withRunAsIOE' specialized to 'IO'</span></span><span>
</span><span id="line-167"></span><span id="local-6989586621679040279"><span id="local-6989586621679040282"><span class="annot"><a href="CheckedIO.Core.html#withRunAsIO"><span class="hs-identifier hs-type">withRunAsIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIO"><span class="hs-identifier hs-type">MonadRunAsIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040279"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040281"><span class="annot"><a href="#local-6989586621679040281"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679040279"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040281"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040281"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040282"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040279"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040282"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-168"></span><span id="withRunAsIO"><span class="annot"><span class="annottext">withRunAsIO :: forall (m :: * -&gt; *) b.
MonadRunAsIO m =&gt;
((forall a. m a -&gt; IO a) -&gt; IO b) -&gt; m b
</span><a href="CheckedIO.Core.html#withRunAsIO"><span class="hs-identifier hs-var hs-var">withRunAsIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((forall a. m a -&gt; IOE SomeSyncException a)
 -&gt; IOE SomeSyncException b)
-&gt; m b
forall b.
((forall a. m a -&gt; IOE SomeSyncException a)
 -&gt; IOE SomeSyncException b)
-&gt; m b
forall e (m :: * -&gt; *) b.
MonadRunAsIOE e m =&gt;
((forall a. m a -&gt; IOE e a) -&gt; IOE e b) -&gt; m b
</span><a href="CheckedIO.Core.html#withRunAsIOE"><span class="hs-identifier hs-var">withRunAsIOE</span></a></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-comment">{----- UIO convenience type -----}</span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="annot"><span class="hs-comment">-- | A checked IO action that cannot throw /any/ (synchronous) exceptions.</span></span><span>
</span><span id="line-173"></span><span class="hs-keyword">type</span><span> </span><span id="UIO"><span class="annot"><a href="CheckedIO.Core.html#UIO"><span class="hs-identifier hs-var">UIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-keyword">type</span><span> </span><span id="MonadRunUIO"><span class="annot"><a href="CheckedIO.Core.html#MonadRunUIO"><span class="hs-identifier hs-var">MonadRunUIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-keyword">type</span><span> </span><span id="MonadRunAsUIO"><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsUIO"><span class="hs-identifier hs-var">MonadRunAsUIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIOE"><span class="hs-identifier hs-type">MonadRunAsIOE</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span id="local-6989586621679040285"><span class="annot"><a href="CheckedIO.Core.html#unUIO"><span class="hs-identifier hs-type">unUIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UIO"><span class="hs-identifier hs-type">UIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040285"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040285"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-180"></span><span id="unUIO"><span class="annot"><span class="annottext">unUIO :: forall a. UIO a -&gt; UnsafeIO a
</span><a href="CheckedIO.Core.html#unUIO"><span class="hs-identifier hs-var hs-var">unUIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE Void a -&gt; UnsafeIO a
forall e a. IOE e a -&gt; UnsafeIO a
</span><a href="CheckedIO.Core.html#unIOE"><span class="hs-identifier hs-var">unIOE</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span id="local-6989586621679040288"><span id="local-6989586621679040289"><span id="local-6989586621679040290"><span class="annot"><a href="CheckedIO.Core.html#runUIO"><span class="hs-identifier hs-type">runUIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040288"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040289"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UIO"><span class="hs-identifier hs-type">UIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040290"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040289"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040290"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-183"></span><span id="runUIO"><span class="annot"><span class="annottext">runUIO :: forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; UIO a -&gt; m a
</span><a href="CheckedIO.Core.html#runUIO"><span class="hs-identifier hs-var hs-var">runUIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; m a
forall a. IOE e a -&gt; m a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; IOE e a -&gt; m a
</span><a href="CheckedIO.Core.html#runIOE"><span class="hs-identifier hs-var">runIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(IOE e a -&gt; m a) -&gt; (UIO a -&gt; IOE e a) -&gt; UIO a -&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UIO a -&gt; IOE e a
forall {e} {a} {e}. IOE e a -&gt; IOE e a
</span><a href="#local-6989586621679040906"><span class="hs-identifier hs-var">castIOE</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-comment">-- assuming that IOE doesn't have a Void exception floating around, this</span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-comment">-- should be equivalent to `fmap (either absurd id) . try`, but this is</span><span>
</span><span id="line-187"></span><span>    </span><span class="hs-comment">-- more performant, as it doesn't have to catch async or imprecise</span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-comment">-- exceptions</span><span>
</span><span id="line-189"></span><span>    </span><span id="local-6989586621679040906"><span class="annot"><span class="annottext">castIOE :: IOE e a -&gt; IOE e a
</span><a href="#local-6989586621679040906"><span class="hs-identifier hs-var hs-var">castIOE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnsafeIO a -&gt; IOE e a
forall e a. UnsafeIO a -&gt; IOE e a
</span><a href="CheckedIO.Core.html#UnsafeIOE"><span class="hs-identifier hs-var">UnsafeIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsafeIO a -&gt; IOE e a)
-&gt; (IOE e a -&gt; UnsafeIO a) -&gt; IOE e a -&gt; IOE e a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; UnsafeIO a
forall e a. IOE e a -&gt; UnsafeIO a
</span><a href="CheckedIO.Core.html#unIOE"><span class="hs-identifier hs-var">unIOE</span></a></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span id="local-6989586621679040300"><span id="local-6989586621679040303"><span class="annot"><a href="CheckedIO.Core.html#withRunAsUIO"><span class="hs-identifier hs-type">withRunAsUIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsUIO"><span class="hs-identifier hs-type">MonadRunAsUIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040300"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040302"><span class="annot"><a href="#local-6989586621679040302"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679040300"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040302"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UIO"><span class="hs-identifier hs-type">UIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040302"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UIO"><span class="hs-identifier hs-type">UIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040303"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040300"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040303"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-192"></span><span id="withRunAsUIO"><span class="annot"><span class="annottext">withRunAsUIO :: forall (m :: * -&gt; *) b.
MonadRunAsUIO m =&gt;
((forall a. m a -&gt; UIO a) -&gt; UIO b) -&gt; m b
</span><a href="CheckedIO.Core.html#withRunAsUIO"><span class="hs-identifier hs-var hs-var">withRunAsUIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((forall a. m a -&gt; IOE Void a) -&gt; IOE Void b) -&gt; m b
forall b. ((forall a. m a -&gt; IOE Void a) -&gt; IOE Void b) -&gt; m b
forall e (m :: * -&gt; *) b.
MonadRunAsIOE e m =&gt;
((forall a. m a -&gt; IOE e a) -&gt; IOE e b) -&gt; m b
</span><a href="CheckedIO.Core.html#withRunAsIOE"><span class="hs-identifier hs-var">withRunAsIOE</span></a></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="hs-comment">-- | Convert @UIO (Either e a)@ to @IOE e a@ (or any other monad</span><span>
</span><span id="line-195"></span><span class="hs-comment">-- with a @MonadRunIOE@ instance).</span><span>
</span><span id="line-196"></span><span class="hs-comment">--</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- &gt; fromUIO m = runUIO m &gt;&gt;= either throw pure</span><span>
</span><span id="line-198"></span><span class="annot"><a href="CheckedIO.Core.html#fromUIO"><span class="hs-identifier hs-type">fromUIO</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-199"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040306"><span class="annot"><a href="#local-6989586621679040306"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679040307"><span class="annot"><a href="#local-6989586621679040307"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679040308"><span class="annot"><a href="#local-6989586621679040308"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-200"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040306"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040307"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-201"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#UIO"><span class="hs-identifier hs-type">UIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679040306"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040308"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040307"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040308"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-203"></span><span id="fromUIO"><span class="annot"><span class="annottext">fromUIO :: forall e (m :: * -&gt; *) a.
MonadRunIOE e m =&gt;
UIO (Either e a) -&gt; m a
</span><a href="CheckedIO.Core.html#fromUIO"><span class="hs-identifier hs-var hs-var">fromUIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(e -&gt; e) -&gt; UIO (Either e a) -&gt; m a
forall e1 e2 (m :: * -&gt; *) a.
MonadRunIOE e2 m =&gt;
(e1 -&gt; e2) -&gt; UIO (Either e1 a) -&gt; m a
</span><a href="CheckedIO.Core.html#fromUIOWith"><span class="hs-identifier hs-var">fromUIOWith</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; e
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="hs-comment">-- | Convert @UIO (Either e1 a)@ to @IOE e2 a@ (or any other monad</span><span>
</span><span id="line-206"></span><span class="hs-comment">-- with a @MonadRunIOE@ instance) with the given</span><span>
</span><span id="line-207"></span><span class="hs-comment">-- transformation function.</span><span>
</span><span id="line-208"></span><span class="hs-comment">--</span><span>
</span><span id="line-209"></span><span class="hs-comment">-- Same as @mapExceptionM f . fromUIO@, but more performant.</span><span>
</span><span id="line-210"></span><span class="annot"><a href="CheckedIO.Core.html#fromUIOWith"><span class="hs-identifier hs-type">fromUIOWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040314"><span class="annot"><a href="#local-6989586621679040314"><span class="hs-identifier hs-type">e1</span></a></span></span><span> </span><span id="local-6989586621679040312"><span class="annot"><a href="#local-6989586621679040312"><span class="hs-identifier hs-type">e2</span></a></span></span><span> </span><span id="local-6989586621679040313"><span class="annot"><a href="#local-6989586621679040313"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679040315"><span class="annot"><a href="#local-6989586621679040315"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-212"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040312"><span class="hs-identifier hs-type">e2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040313"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040314"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040312"><span class="hs-identifier hs-type">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UIO"><span class="hs-identifier hs-type">UIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679040314"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040315"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040313"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040315"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-216"></span><span id="fromUIOWith"><span class="annot"><span class="annottext">fromUIOWith :: forall e1 e2 (m :: * -&gt; *) a.
MonadRunIOE e2 m =&gt;
(e1 -&gt; e2) -&gt; UIO (Either e1 a) -&gt; m a
</span><a href="CheckedIO.Core.html#fromUIOWith"><span class="hs-identifier hs-var hs-var">fromUIOWith</span></a></span></span><span> </span><span id="local-6989586621679040919"><span class="annot"><span class="annottext">e1 -&gt; e2
</span><a href="#local-6989586621679040919"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679040920"><span class="annot"><span class="annottext">UIO (Either e1 a)
</span><a href="#local-6989586621679040920"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UIO (Either e1 a) -&gt; m (Either e1 a)
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; UIO a -&gt; m a
</span><a href="CheckedIO.Core.html#runUIO"><span class="hs-identifier hs-var">runUIO</span></a></span><span> </span><span class="annot"><span class="annottext">UIO (Either e1 a)
</span><a href="#local-6989586621679040920"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">m (Either e1 a) -&gt; (Either e1 a -&gt; m a) -&gt; m a
forall a b. m a -&gt; (a -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">(e1 -&gt; m a) -&gt; (a -&gt; m a) -&gt; Either e1 a -&gt; m a
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e2 -&gt; m a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; e -&gt; m a
</span><a href="CheckedIO.Core.html#throw"><span class="hs-identifier hs-var">throw</span></a></span><span> </span><span class="annot"><span class="annottext">(e2 -&gt; m a) -&gt; (e1 -&gt; e2) -&gt; e1 -&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">e1 -&gt; e2
</span><a href="#local-6989586621679040919"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; m a
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">-- | Convert @UIO (Either e a)@ action to @IO a@ (or any other monad</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- with a @MonadRunIO@ instance).</span><span>
</span><span id="line-220"></span><span class="hs-comment">--</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- Same as @liftE . fromUIO@, but more performant.</span><span>
</span><span id="line-222"></span><span id="local-6989586621679040326"><span id="local-6989586621679040327"><span id="local-6989586621679040328"><span class="annot"><a href="CheckedIO.Core.html#uioToIO"><span class="hs-identifier hs-type">uioToIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040326"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIO"><span class="hs-identifier hs-type">MonadRunIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040327"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UIO"><span class="hs-identifier hs-type">UIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679040326"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040328"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040327"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040328"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-223"></span><span id="uioToIO"><span class="annot"><span class="annottext">uioToIO :: forall e (m :: * -&gt; *) a.
(Exception e, MonadRunIO m) =&gt;
UIO (Either e a) -&gt; m a
</span><a href="CheckedIO.Core.html#uioToIO"><span class="hs-identifier hs-var hs-var">uioToIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(e -&gt; SomeSyncException) -&gt; UIO (Either e a) -&gt; m a
forall e1 e2 (m :: * -&gt; *) a.
MonadRunIOE e2 m =&gt;
(e1 -&gt; e2) -&gt; UIO (Either e1 a) -&gt; m a
</span><a href="CheckedIO.Core.html#fromUIOWith"><span class="hs-identifier hs-var">fromUIOWith</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; SomeSyncException
forall e. Exception e =&gt; e -&gt; SomeSyncException
</span><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-var">SomeSyncException</span></a></span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="hs-comment">{----- Exception handling -----}</span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="annot"><span class="hs-comment">-- | Throw the given exception.</span></span><span>
</span><span id="line-228"></span><span id="local-6989586621679040323"><span id="local-6989586621679040324"><span id="local-6989586621679040325"><span class="annot"><a href="CheckedIO.Core.html#throw"><span class="hs-identifier hs-type">throw</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040323"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040324"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040323"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040324"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040325"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-229"></span><span id="throw"><span class="annot"><span class="annottext">throw :: forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; e -&gt; m a
</span><a href="CheckedIO.Core.html#throw"><span class="hs-identifier hs-var hs-var">throw</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; m a
forall a. IOE e a -&gt; m a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; IOE e a -&gt; m a
</span><a href="CheckedIO.Core.html#runIOE"><span class="hs-identifier hs-var">runIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(IOE e a -&gt; m a) -&gt; (e -&gt; IOE e a) -&gt; e -&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UnsafeIO a -&gt; IOE e a
forall e a. UnsafeIO a -&gt; IOE e a
</span><a href="CheckedIO.Core.html#UnsafeIOE"><span class="hs-identifier hs-var">UnsafeIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsafeIO a -&gt; IOE e a) -&gt; (e -&gt; UnsafeIO a) -&gt; e -&gt; IOE e a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">AnyException SomeException -&gt; UnsafeIO a
forall e a. Exception e =&gt; e -&gt; IO a
</span><span class="hs-identifier hs-var">GHC.throwIO</span></span><span> </span><span class="annot"><span class="annottext">(AnyException SomeException -&gt; UnsafeIO a)
-&gt; (e -&gt; AnyException SomeException) -&gt; e -&gt; UnsafeIO a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; AnyException SomeException
forall e. e -&gt; AnyException e
</span><a href="CheckedIO.Core.html#AnySyncException"><span class="hs-identifier hs-var">AnySyncException</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeException -&gt; AnyException SomeException)
-&gt; (e -&gt; SomeException) -&gt; e -&gt; AnyException SomeException
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; SomeException
forall e. Exception e =&gt; e -&gt; SomeException
</span><span class="hs-identifier hs-var">SomeException</span></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="annot"><span class="hs-comment">-- | Throw the given exception as an asynchronous exception to the given thread.</span></span><span>
</span><span id="line-232"></span><span id="local-6989586621679040342"><span id="local-6989586621679040343"><span id="local-6989586621679040344"><span class="annot"><a href="CheckedIO.Core.html#throwTo"><span class="hs-identifier hs-type">throwTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040342"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040343"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040344"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ThreadId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040342"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040344"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-233"></span><span id="throwTo"><span class="annot"><span class="annottext">throwTo :: forall e e' (m :: * -&gt; *).
(Exception e, MonadRunIOE e' m) =&gt;
ThreadId -&gt; e -&gt; m ()
</span><a href="CheckedIO.Core.html#throwTo"><span class="hs-identifier hs-var hs-var">throwTo</span></a></span></span><span> </span><span id="local-6989586621679040941"><span class="annot"><span class="annottext">ThreadId
</span><a href="#local-6989586621679040941"><span class="hs-identifier hs-var">tid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e' () -&gt; m ()
forall a. IOE e' a -&gt; m a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; IOE e a -&gt; m a
</span><a href="CheckedIO.Core.html#runIOE"><span class="hs-identifier hs-var">runIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(IOE e' () -&gt; m ()) -&gt; (e -&gt; IOE e' ()) -&gt; e -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UnsafeIO () -&gt; IOE e' ()
forall e a. UnsafeIO a -&gt; IOE e a
</span><a href="CheckedIO.Core.html#UnsafeIOE"><span class="hs-identifier hs-var">UnsafeIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsafeIO () -&gt; IOE e' ()) -&gt; (e -&gt; UnsafeIO ()) -&gt; e -&gt; IOE e' ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ThreadId -&gt; AnyException SomeException -&gt; UnsafeIO ()
forall e. Exception e =&gt; ThreadId -&gt; e -&gt; UnsafeIO ()
</span><span class="hs-identifier hs-var">GHC.throwTo</span></span><span> </span><span class="annot"><span class="annottext">ThreadId
</span><a href="#local-6989586621679040941"><span class="hs-identifier hs-var">tid</span></a></span><span> </span><span class="annot"><span class="annottext">(AnyException SomeException -&gt; UnsafeIO ())
-&gt; (e -&gt; AnyException SomeException) -&gt; e -&gt; UnsafeIO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall e. SomeException -&gt; AnyException e
</span><a href="CheckedIO.Core.html#AnyAsyncException"><span class="hs-identifier hs-var">AnyAsyncException</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="annot"><span class="annottext">(SomeException -&gt; AnyException SomeException)
-&gt; (e -&gt; SomeException) -&gt; e -&gt; AnyException SomeException
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; SomeException
forall e. Exception e =&gt; e -&gt; SomeException
</span><span class="hs-identifier hs-var">SomeException</span></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="hs-comment">-- | Throw an imprecise exception in a pure context.</span><span>
</span><span id="line-236"></span><span class="hs-comment">--</span><span>
</span><span id="line-237"></span><span class="hs-comment">-- __Warning__: Because the exception isn't tracked at the type level, this</span><span>
</span><span id="line-238"></span><span class="hs-comment">-- should be reserved for unrecoverable errors that aren't expected to be</span><span>
</span><span id="line-239"></span><span class="hs-comment">-- handled. Also, if this value is not evaluated before 'uncheckIOE'  is</span><span>
</span><span id="line-240"></span><span class="hs-comment">-- called, it'll remain wrapped in 'AnyException'.</span><span>
</span><span id="line-241"></span><span id="local-6989586621679040350"><span id="local-6989586621679040351"><span class="annot"><a href="CheckedIO.Core.html#throwImprecise"><span class="hs-identifier hs-type">throwImprecise</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040350"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040350"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040351"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-242"></span><span id="throwImprecise"><span class="annot"><span class="annottext">throwImprecise :: forall e a. Exception e =&gt; e -&gt; a
</span><a href="CheckedIO.Core.html#throwImprecise"><span class="hs-identifier hs-var hs-var">throwImprecise</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyException SomeException -&gt; a
forall a e. Exception e =&gt; e -&gt; a
</span><span class="hs-identifier hs-var">GHC.throw</span></span><span> </span><span class="annot"><span class="annottext">(AnyException SomeException -&gt; a)
-&gt; (e -&gt; AnyException SomeException) -&gt; e -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall e. SomeException -&gt; AnyException e
</span><a href="CheckedIO.Core.html#AnyImpreciseException"><span class="hs-identifier hs-var">AnyImpreciseException</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="annot"><span class="annottext">(SomeException -&gt; AnyException SomeException)
-&gt; (e -&gt; SomeException) -&gt; e -&gt; AnyException SomeException
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; SomeException
forall e. Exception e =&gt; e -&gt; SomeException
</span><span class="hs-identifier hs-var">SomeException</span></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="annot"><span class="hs-comment">-- | Handle the exception tracked in 'IOE' if one is thrown.</span></span><span>
</span><span id="line-245"></span><span class="annot"><a href="CheckedIO.Core.html#catch"><span class="hs-identifier hs-type">catch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040357"><span class="annot"><a href="#local-6989586621679040357"><span class="hs-identifier hs-type">e1</span></a></span></span><span> </span><span id="local-6989586621679040358"><span class="annot"><a href="#local-6989586621679040358"><span class="hs-identifier hs-type">e2</span></a></span></span><span> </span><span id="local-6989586621679040359"><span class="annot"><a href="#local-6989586621679040359"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040357"><span class="hs-identifier hs-type">e1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040358"><span class="hs-identifier hs-type">e2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040357"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040359"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040357"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040358"><span class="hs-identifier hs-type">e2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040359"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040358"><span class="hs-identifier hs-type">e2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040359"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-246"></span><span id="catch"><span class="annot"><span class="annottext">catch :: forall e1 e2 a.
(Exception e1, Exception e2) =&gt;
IOE e1 a -&gt; (e1 -&gt; IOE e2 a) -&gt; IOE e2 a
</span><a href="CheckedIO.Core.html#catch"><span class="hs-identifier hs-var hs-var">catch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e1 a -&gt; (e1 -&gt; IOE e2 a) -&gt; IOE e2 a
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a.
(MonadCatchIO e m, MonadRunAsIOE e' m') =&gt;
m a -&gt; (e -&gt; m' a) -&gt; m' a
forall e' (m' :: * -&gt; *) a.
MonadRunAsIOE e' m' =&gt;
IOE e1 a -&gt; (e1 -&gt; m' a) -&gt; m' a
</span><a href="CheckedIO.Core.html#catchM"><span class="hs-identifier hs-var">catchM</span></a></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="hs-comment">-- | Handle /all/ exceptions in the given 'IOE' action, including non-synchronous</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- exceptions.</span><span>
</span><span id="line-250"></span><span class="hs-comment">--</span><span>
</span><span id="line-251"></span><span class="hs-comment">-- __Warning__: You probably want 'catch' instead; if you catch an</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- async exception, you /must/ be careful to rethrow it after.</span><span>
</span><span id="line-253"></span><span class="hs-comment">--</span><span>
</span><span id="line-254"></span><span class="hs-comment">-- More information:</span><span>
</span><span id="line-255"></span><span class="hs-comment">--</span><span>
</span><span id="line-256"></span><span class="hs-comment">--   * https://www.fpcomplete.com/blog/2018/04/async-exception-handling-haskell/</span><span>
</span><span id="line-257"></span><span class="hs-comment">--   * https://www.tweag.io/blog/2020-04-16-exceptions-in-haskell/</span><span>
</span><span id="line-258"></span><span class="annot"><a href="CheckedIO.Core.html#catchAny"><span class="hs-identifier hs-type">catchAny</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040370"><span class="annot"><a href="#local-6989586621679040370"><span class="hs-identifier hs-type">e1</span></a></span></span><span> </span><span id="local-6989586621679040371"><span class="annot"><a href="#local-6989586621679040371"><span class="hs-identifier hs-type">e2</span></a></span></span><span> </span><span id="local-6989586621679040372"><span class="annot"><a href="#local-6989586621679040372"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040370"><span class="hs-identifier hs-type">e1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040371"><span class="hs-identifier hs-type">e2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040370"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040372"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040370"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040371"><span class="hs-identifier hs-type">e2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040372"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040371"><span class="hs-identifier hs-type">e2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040372"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-259"></span><span id="catchAny"><span class="annot"><span class="annottext">catchAny :: forall e1 e2 a.
(Exception e1, Exception e2) =&gt;
IOE e1 a -&gt; (AnyException e1 -&gt; IOE e2 a) -&gt; IOE e2 a
</span><a href="CheckedIO.Core.html#catchAny"><span class="hs-identifier hs-var hs-var">catchAny</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e1 a -&gt; (AnyException e1 -&gt; IOE e2 a) -&gt; IOE e2 a
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a.
(MonadCatchIO e m, MonadRunAsIOE e' m') =&gt;
m a -&gt; (AnyException e -&gt; m' a) -&gt; m' a
forall e' (m' :: * -&gt; *) a.
MonadRunAsIOE e' m' =&gt;
IOE e1 a -&gt; (AnyException e1 -&gt; m' a) -&gt; m' a
</span><a href="CheckedIO.Core.html#catchAnyM"><span class="hs-identifier hs-var">catchAnyM</span></a></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span class="annot"><span class="hs-comment">-- | Get an @Either@ containing either the result or the exception thrown.</span></span><span>
</span><span id="line-262"></span><span class="annot"><a href="CheckedIO.Core.html#try"><span class="hs-identifier hs-type">try</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040379"><span class="annot"><a href="#local-6989586621679040379"><span class="hs-identifier hs-type">e1</span></a></span></span><span> </span><span id="local-6989586621679040380"><span class="annot"><a href="#local-6989586621679040380"><span class="hs-identifier hs-type">e2</span></a></span></span><span> </span><span id="local-6989586621679040381"><span class="annot"><a href="#local-6989586621679040381"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040379"><span class="hs-identifier hs-type">e1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040380"><span class="hs-identifier hs-type">e2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040379"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040381"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040380"><span class="hs-identifier hs-type">e2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679040379"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040381"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span id="try"><span class="annot"><span class="annottext">try :: forall e1 e2 a.
(Exception e1, Exception e2) =&gt;
IOE e1 a -&gt; IOE e2 (Either e1 a)
</span><a href="CheckedIO.Core.html#try"><span class="hs-identifier hs-var hs-var">try</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e1 a -&gt; IOE e2 (Either e1 a)
forall e (m1 :: * -&gt; *) e' (m2 :: * -&gt; *) a.
(MonadCatchIO e m1, MonadRunIOE e' m2) =&gt;
m1 a -&gt; m2 (Either e a)
</span><a href="CheckedIO.Core.html#tryM"><span class="hs-identifier hs-var">tryM</span></a></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="annot"><a href="CheckedIO.Core.html#mapExceptionM"><span class="hs-identifier hs-type">mapExceptionM</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-266"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040390"><span class="annot"><a href="#local-6989586621679040390"><span class="hs-identifier hs-type">e1</span></a></span></span><span> </span><span id="local-6989586621679040392"><span class="annot"><a href="#local-6989586621679040392"><span class="hs-identifier hs-type">e2</span></a></span></span><span> </span><span id="local-6989586621679040391"><span class="annot"><a href="#local-6989586621679040391"><span class="hs-identifier hs-type">m1</span></a></span></span><span> </span><span id="local-6989586621679040393"><span class="annot"><a href="#local-6989586621679040393"><span class="hs-identifier hs-type">m2</span></a></span></span><span> </span><span id="local-6989586621679040394"><span class="annot"><a href="#local-6989586621679040394"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-267"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040390"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040391"><span class="hs-identifier hs-type">m1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIOE"><span class="hs-identifier hs-type">MonadRunAsIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040392"><span class="hs-identifier hs-type">e2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040393"><span class="hs-identifier hs-type">m2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040390"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040392"><span class="hs-identifier hs-type">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040391"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040394"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040393"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040394"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-271"></span><span id="mapExceptionM"><span class="annot"><span class="annottext">mapExceptionM :: forall e1 e2 (m1 :: * -&gt; *) (m2 :: * -&gt; *) a.
(MonadCatchIO e1 m1, MonadRunAsIOE e2 m2) =&gt;
(e1 -&gt; e2) -&gt; m1 a -&gt; m2 a
</span><a href="CheckedIO.Core.html#mapExceptionM"><span class="hs-identifier hs-var hs-var">mapExceptionM</span></a></span></span><span> </span><span id="local-6989586621679040970"><span class="annot"><span class="annottext">e1 -&gt; e2
</span><a href="#local-6989586621679040970"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679040971"><span class="annot"><span class="annottext">m1 a
</span><a href="#local-6989586621679040971"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m1 a
</span><a href="#local-6989586621679040971"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">m1 a -&gt; (e1 -&gt; m2 a) -&gt; m2 a
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a.
(MonadCatchIO e m, MonadRunAsIOE e' m') =&gt;
m a -&gt; (e -&gt; m' a) -&gt; m' a
forall e' (m' :: * -&gt; *) a.
MonadRunAsIOE e' m' =&gt;
m1 a -&gt; (e1 -&gt; m' a) -&gt; m' a
</span><a href="CheckedIO.Core.html#catchM"><span class="hs-operator hs-var">`catchM`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e2 -&gt; m2 a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; e -&gt; m a
</span><a href="CheckedIO.Core.html#throw"><span class="hs-identifier hs-var">throw</span></a></span><span> </span><span class="annot"><span class="annottext">(e2 -&gt; m2 a) -&gt; (e1 -&gt; e2) -&gt; e1 -&gt; m2 a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">e1 -&gt; e2
</span><a href="#local-6989586621679040970"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-comment">-- | Lift an exception to 'SomeSyncException', useful for converting to 'IO'.</span><span>
</span><span id="line-274"></span><span class="hs-comment">--</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- &gt; liftE = mapExceptionM SomeSyncException</span><span>
</span><span id="line-276"></span><span class="hs-comment">--</span><span>
</span><span id="line-277"></span><span class="hs-comment">-- === __Example__</span><span>
</span><span id="line-278"></span><span class="hs-comment">--</span><span>
</span><span id="line-279"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-280"></span><span class="hs-comment">-- foo :: String -&gt; IOE MyException Int</span><span>
</span><span id="line-281"></span><span class="hs-comment">--</span><span>
</span><span id="line-282"></span><span class="hs-comment">-- bar :: IO Int</span><span>
</span><span id="line-283"></span><span class="hs-comment">-- bar = liftE $ foo &quot;hello world&quot;</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-285"></span><span class="annot"><a href="CheckedIO.Core.html#liftE"><span class="hs-identifier hs-type">liftE</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-286"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040400"><span class="annot"><a href="#local-6989586621679040400"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679040401"><span class="annot"><a href="#local-6989586621679040401"><span class="hs-identifier hs-type">m1</span></a></span></span><span> </span><span id="local-6989586621679040402"><span class="annot"><a href="#local-6989586621679040402"><span class="hs-identifier hs-type">m2</span></a></span></span><span> </span><span id="local-6989586621679040403"><span class="annot"><a href="#local-6989586621679040403"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-287"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040400"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040401"><span class="hs-identifier hs-type">m1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIO"><span class="hs-identifier hs-type">MonadRunAsIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040402"><span class="hs-identifier hs-type">m2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-288"></span><span>  </span><span class="annot"><a href="#local-6989586621679040401"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040403"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040402"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040403"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-290"></span><span id="liftE"><span class="annot"><span class="annottext">liftE :: forall e (m1 :: * -&gt; *) (m2 :: * -&gt; *) a.
(MonadCatchIO e m1, MonadRunAsIO m2) =&gt;
m1 a -&gt; m2 a
</span><a href="CheckedIO.Core.html#liftE"><span class="hs-identifier hs-var hs-var">liftE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(e -&gt; SomeSyncException) -&gt; m1 a -&gt; m2 a
forall e1 e2 (m1 :: * -&gt; *) (m2 :: * -&gt; *) a.
(MonadCatchIO e1 m1, MonadRunAsIOE e2 m2) =&gt;
(e1 -&gt; e2) -&gt; m1 a -&gt; m2 a
</span><a href="CheckedIO.Core.html#mapExceptionM"><span class="hs-identifier hs-var">mapExceptionM</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; SomeSyncException
forall e. Exception e =&gt; e -&gt; SomeSyncException
</span><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-var">SomeSyncException</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span id="local-6989586621679040408"><span id="local-6989586621679040409"><span id="local-6989586621679040410"><span class="annot"><a href="CheckedIO.Core.html#evaluate"><span class="hs-identifier hs-type">evaluate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040408"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040409"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040410"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040409"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040410"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-293"></span><span id="evaluate"><span class="annot"><span class="annottext">evaluate :: forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; a -&gt; m a
</span><a href="CheckedIO.Core.html#evaluate"><span class="hs-identifier hs-var hs-var">evaluate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; m a
forall a. IOE e a -&gt; m a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; IOE e a -&gt; m a
</span><a href="CheckedIO.Core.html#runIOE"><span class="hs-identifier hs-var">runIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(IOE e a -&gt; m a) -&gt; (a -&gt; IOE e a) -&gt; a -&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UnsafeIO a -&gt; IOE e a
forall e a. UnsafeIO a -&gt; IOE e a
</span><a href="CheckedIO.Core.html#UnsafeIOE"><span class="hs-identifier hs-var">UnsafeIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsafeIO a -&gt; IOE e a) -&gt; (a -&gt; UnsafeIO a) -&gt; a -&gt; IOE e a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; UnsafeIO a
forall a. a -&gt; IO a
</span><span class="hs-identifier hs-var">GHC.evaluate</span></span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="hs-comment">{----- Cleanup (no recovery) -----}</span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="hs-comment">-- | Allocate and clean up a resource safely.</span><span>
</span><span id="line-298"></span><span class="hs-comment">--</span><span>
</span><span id="line-299"></span><span class="hs-comment">-- Runs the clean up in an uninterruptible mask. For more information:</span><span>
</span><span id="line-300"></span><span class="hs-comment">--</span><span>
</span><span id="line-301"></span><span class="hs-comment">--   * https://hackage.haskell.org/package/unliftio-0.2.23.0/docs/UnliftIO-Exception.html#v:bracket</span><span>
</span><span id="line-302"></span><span class="hs-comment">--   * https://hackage.haskell.org/package/base-4.17.0.0/docs/Control-Exception-Base.html#v:bracket</span><span>
</span><span id="line-303"></span><span id="local-6989586621679040415"><span id="local-6989586621679040416"><span id="local-6989586621679040417"><span id="local-6989586621679040418"><span class="annot"><a href="CheckedIO.Core.html#bracket"><span class="hs-identifier hs-type">bracket</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040416"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040416"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040417"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040416"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040418"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040415"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040418"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span><span>
</span><span id="line-304"></span><span id="bracket"><span class="annot"><span class="annottext">bracket :: forall e a b c.
Exception e =&gt;
IOE e a -&gt; (a -&gt; IOE e b) -&gt; (a -&gt; IOE e c) -&gt; IOE e c
</span><a href="CheckedIO.Core.html#bracket"><span class="hs-identifier hs-var hs-var">bracket</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; (a -&gt; IOE e b) -&gt; (a -&gt; IOE e c) -&gt; IOE e c
forall e (m :: * -&gt; *) a b c.
MonadCatchIO e m =&gt;
m a -&gt; (a -&gt; m b) -&gt; (a -&gt; m c) -&gt; m c
</span><a href="CheckedIO.Core.html#bracketM"><span class="hs-identifier hs-var">bracketM</span></a></span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="hs-comment">-- | Same as 'bracket', except without passing the result of the acquire action to the</span><span>
</span><span id="line-307"></span><span class="hs-comment">-- release or run actions.</span><span>
</span><span id="line-308"></span><span id="local-6989586621679040428"><span id="local-6989586621679040429"><span id="local-6989586621679040430"><span id="local-6989586621679040431"><span class="annot"><a href="CheckedIO.Core.html#bracket_"><span class="hs-identifier hs-type">bracket_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040428"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040428"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040429"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040428"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040430"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040428"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040431"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040428"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040431"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span><span>
</span><span id="line-309"></span><span id="bracket_"><span class="annot"><span class="annottext">bracket_ :: forall e a b c.
Exception e =&gt;
IOE e a -&gt; IOE e b -&gt; IOE e c -&gt; IOE e c
</span><a href="CheckedIO.Core.html#bracket_"><span class="hs-identifier hs-var hs-var">bracket_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; IOE e b -&gt; IOE e c -&gt; IOE e c
forall e (m :: * -&gt; *) a b c.
MonadCatchIO e m =&gt;
m a -&gt; m b -&gt; m c -&gt; m c
</span><a href="CheckedIO.Core.html#bracketM_"><span class="hs-identifier hs-var">bracketM_</span></a></span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span class="annot"><span class="hs-comment">-- | Same as 'bracket', but only perform the cleanup if an exception is thrown.</span></span><span>
</span><span id="line-312"></span><span id="local-6989586621679040441"><span id="local-6989586621679040442"><span id="local-6989586621679040443"><span id="local-6989586621679040444"><span id="local-6989586621679040445"><span class="annot"><a href="CheckedIO.Core.html#bracketOnError"><span class="hs-identifier hs-type">bracketOnError</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040441"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040442"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-314"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040441"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040443"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-315"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040443"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040442"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040444"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040443"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040441"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040445"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-317"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040441"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040445"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span><span>
</span><span id="line-318"></span><span id="bracketOnError"><span class="annot"><span class="annottext">bracketOnError :: forall e e' a b c.
(Exception e, Exception e') =&gt;
IOE e a -&gt; (a -&gt; IOE e' b) -&gt; (a -&gt; IOE e c) -&gt; IOE e c
</span><a href="CheckedIO.Core.html#bracketOnError"><span class="hs-identifier hs-var hs-var">bracketOnError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; (a -&gt; IOE e' b) -&gt; (a -&gt; IOE e c) -&gt; IOE e c
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b c.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a -&gt; (a -&gt; m' b) -&gt; (a -&gt; m c) -&gt; m c
</span><a href="CheckedIO.Core.html#bracketOnErrorM"><span class="hs-identifier hs-var">bracketOnErrorM</span></a></span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span class="annot"><span class="hs-comment">-- | Same as 'bracket_', but only perform the cleanup if an exception is thrown.</span></span><span>
</span><span id="line-321"></span><span id="local-6989586621679040458"><span id="local-6989586621679040459"><span id="local-6989586621679040460"><span id="local-6989586621679040461"><span id="local-6989586621679040462"><span class="annot"><a href="CheckedIO.Core.html#bracketOnError_"><span class="hs-identifier hs-type">bracketOnError_</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-322"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040458"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040459"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-323"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040458"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040460"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-324"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040459"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040461"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-325"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040458"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040462"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040458"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040462"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span><span>
</span><span id="line-327"></span><span id="bracketOnError_"><span class="annot"><span class="annottext">bracketOnError_ :: forall e e' a b c.
(Exception e, Exception e') =&gt;
IOE e a -&gt; IOE e' b -&gt; IOE e c -&gt; IOE e c
</span><a href="CheckedIO.Core.html#bracketOnError_"><span class="hs-identifier hs-var hs-var">bracketOnError_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; IOE e' b -&gt; IOE e c -&gt; IOE e c
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b c.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a -&gt; m' b -&gt; m c -&gt; m c
</span><a href="CheckedIO.Core.html#bracketOnErrorM_"><span class="hs-identifier hs-var">bracketOnErrorM_</span></a></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="annot"><span class="hs-comment">-- | A specialized variant of 'bracket' that just runs a computation afterward.</span></span><span>
</span><span id="line-330"></span><span id="local-6989586621679040475"><span id="local-6989586621679040476"><span id="local-6989586621679040477"><span class="annot"><a href="CheckedIO.Core.html#finally"><span class="hs-identifier hs-type">finally</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040475"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040475"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040476"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040475"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040477"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040475"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040476"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-331"></span><span id="finally"><span class="annot"><span class="annottext">finally :: forall e a b. Exception e =&gt; IOE e a -&gt; IOE e b -&gt; IOE e a
</span><a href="CheckedIO.Core.html#finally"><span class="hs-identifier hs-var hs-var">finally</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; IOE e b -&gt; IOE e a
forall e (m :: * -&gt; *) a b. MonadCatchIO e m =&gt; m a -&gt; m b -&gt; m a
</span><a href="CheckedIO.Core.html#finallyM"><span class="hs-identifier hs-var">finallyM</span></a></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="annot"><span class="hs-comment">-- | Like 'finally', except only runs the cleanup if an exception occurs.</span></span><span>
</span><span id="line-334"></span><span id="local-6989586621679040485"><span id="local-6989586621679040486"><span id="local-6989586621679040487"><span id="local-6989586621679040488"><span class="annot"><a href="CheckedIO.Core.html#onException"><span class="hs-identifier hs-type">onException</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040485"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040486"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040487"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040486"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040488"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040485"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040487"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-335"></span><span id="onException"><span class="annot"><span class="annottext">onException :: forall e e' a b.
(Exception e, Exception e') =&gt;
IOE e a -&gt; IOE e' b -&gt; IOE e a
</span><a href="CheckedIO.Core.html#onException"><span class="hs-identifier hs-var hs-var">onException</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; IOE e' b -&gt; IOE e a
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a -&gt; m' b -&gt; m a
</span><a href="CheckedIO.Core.html#onExceptionM"><span class="hs-identifier hs-var">onExceptionM</span></a></span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="hs-comment">-- | Like 'onException', except passing the exception to the cleanup function.</span><span>
</span><span id="line-338"></span><span class="hs-comment">--</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- Unlike 'catchAny', you /don't/ need to worry about rethrowing async exceptions</span><span>
</span><span id="line-340"></span><span class="hs-comment">-- because 'withException' always rethrows the exception after running the cleanup.</span><span>
</span><span id="line-341"></span><span id="local-6989586621679040499"><span id="local-6989586621679040500"><span id="local-6989586621679040501"><span id="local-6989586621679040502"><span class="annot"><a href="CheckedIO.Core.html#withException"><span class="hs-identifier hs-type">withException</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040499"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040500"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040499"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040501"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040499"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040500"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040502"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040499"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040501"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-342"></span><span id="withException"><span class="annot"><span class="annottext">withException :: forall e e' a b.
(Exception e, Exception e') =&gt;
IOE e a -&gt; (AnyException e -&gt; IOE e' b) -&gt; IOE e a
</span><a href="CheckedIO.Core.html#withException"><span class="hs-identifier hs-var hs-var">withException</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; (AnyException e -&gt; IOE e' b) -&gt; IOE e a
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a -&gt; (AnyException e -&gt; m' b) -&gt; m a
</span><a href="CheckedIO.Core.html#withExceptionM"><span class="hs-identifier hs-var">withExceptionM</span></a></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="hs-comment">{----- Masking -----}</span><span>
</span><span id="line-345"></span><span>
</span><span id="line-346"></span><span class="hs-comment">-- | Execute an IO action with asynchronous exceptions masked.</span><span>
</span><span id="line-347"></span><span class="hs-comment">--</span><span>
</span><span id="line-348"></span><span class="hs-comment">-- https://hackage.haskell.org/package/base-4.17.0.0/docs/GHC-IO.html#v:mask</span><span>
</span><span id="line-349"></span><span id="local-6989586621679040513"><span id="local-6989586621679040516"><span class="annot"><a href="CheckedIO.Core.html#mask"><span class="hs-identifier hs-type">mask</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-350"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040513"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-351"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040514"><span class="annot"><a href="#local-6989586621679040514"><span class="hs-identifier hs-type">e'</span></a></span></span><span> </span><span id="local-6989586621679040515"><span class="annot"><a href="#local-6989586621679040515"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040514"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040514"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040515"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040514"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040515"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040513"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040516"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040513"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040516"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-353"></span><span id="mask"><span class="annot"><span class="annottext">mask :: forall e b.
Exception e =&gt;
((forall e' a. Exception e' =&gt; IOE e' a -&gt; IOE e' a) -&gt; IOE e b)
-&gt; IOE e b
</span><a href="CheckedIO.Core.html#mask"><span class="hs-identifier hs-var hs-var">mask</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((forall e' a. Exception e' =&gt; IOE e' a -&gt; IOE e' a) -&gt; IOE e b)
-&gt; IOE e b
((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
 -&gt; IOE e b)
-&gt; IOE e b
forall e (m :: * -&gt; *) b.
MonadCatchIO e m =&gt;
((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
 -&gt; m b)
-&gt; m b
</span><a href="CheckedIO.Core.html#maskM"><span class="hs-identifier hs-var">maskM</span></a></span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span class="hs-comment">-- | Like 'mask', but the masked computation is not interruptible.</span><span>
</span><span id="line-356"></span><span class="hs-comment">--</span><span>
</span><span id="line-357"></span><span class="hs-comment">-- __Warning__: Use with great care, as a thread running with 'uninterruptibleMask' will</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- be unresponsive and unkillable if it blocks at all.</span><span>
</span><span id="line-359"></span><span class="hs-comment">--</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- https://hackage.haskell.org/package/base-4.17.0.0/docs/GHC-IO.html#v:uninterruptibleMask</span><span>
</span><span id="line-361"></span><span id="local-6989586621679041008"><span id="local-6989586621679041009"><span class="annot"><a href="CheckedIO.Core.html#uninterruptibleMask"><span class="hs-identifier hs-type">uninterruptibleMask</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-362"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679041008"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-363"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679041010"><span class="annot"><a href="#local-6989586621679041010"><span class="hs-identifier hs-type">e'</span></a></span></span><span> </span><span id="local-6989586621679041011"><span class="annot"><a href="#local-6989586621679041011"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679041010"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041010"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041011"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041010"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041011"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041008"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041009"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041008"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041009"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-365"></span><span id="uninterruptibleMask"><span class="annot"><span class="annottext">uninterruptibleMask :: forall e b.
Exception e =&gt;
((forall e' a. Exception e' =&gt; IOE e' a -&gt; IOE e' a) -&gt; IOE e b)
-&gt; IOE e b
</span><a href="CheckedIO.Core.html#uninterruptibleMask"><span class="hs-identifier hs-var hs-var">uninterruptibleMask</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((forall e' a. Exception e' =&gt; IOE e' a -&gt; IOE e' a) -&gt; IOE e b)
-&gt; IOE e b
((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
 -&gt; IOE e b)
-&gt; IOE e b
forall e (m :: * -&gt; *) b.
MonadCatchIO e m =&gt;
((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
 -&gt; m b)
-&gt; m b
</span><a href="CheckedIO.Core.html#uninterruptibleMaskM"><span class="hs-identifier hs-var">uninterruptibleMaskM</span></a></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="annot"><span class="hs-comment">-- | Like 'mask', but does not pass a @restore@ action to the argument.</span></span><span>
</span><span id="line-368"></span><span id="local-6989586621679041016"><span id="local-6989586621679041017"><span class="annot"><a href="CheckedIO.Core.html#mask_"><span class="hs-identifier hs-type">mask_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679041016"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041016"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041017"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041016"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041017"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-369"></span><span id="mask_"><span class="annot"><span class="annottext">mask_ :: forall e' a. Exception e' =&gt; IOE e' a -&gt; IOE e' a
</span><a href="CheckedIO.Core.html#mask_"><span class="hs-identifier hs-var hs-var">mask_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; IOE e a
forall e (m :: * -&gt; *) a. MonadCatchIO e m =&gt; m a -&gt; m a
</span><a href="CheckedIO.Core.html#maskM_"><span class="hs-identifier hs-var">maskM_</span></a></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="annot"><span class="hs-comment">-- | Like 'uninterruptibleMask', but does not pass a @restore@ action to the argument.</span></span><span>
</span><span id="line-372"></span><span id="local-6989586621679041020"><span id="local-6989586621679041021"><span class="annot"><a href="CheckedIO.Core.html#uninterruptibleMask_"><span class="hs-identifier hs-type">uninterruptibleMask_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679041020"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041020"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041021"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041020"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041021"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-373"></span><span id="uninterruptibleMask_"><span class="annot"><span class="annottext">uninterruptibleMask_ :: forall e' a. Exception e' =&gt; IOE e' a -&gt; IOE e' a
</span><a href="CheckedIO.Core.html#uninterruptibleMask_"><span class="hs-identifier hs-var hs-var">uninterruptibleMask_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; IOE e a
forall e (m :: * -&gt; *) a. MonadCatchIO e m =&gt; m a -&gt; m a
</span><a href="CheckedIO.Core.html#uninterruptibleMaskM_"><span class="hs-identifier hs-var">uninterruptibleMaskM_</span></a></span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span class="hs-comment">{----- Lifted exception handling -----}</span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIOE"><span class="hs-identifier hs-type">MonadRunAsIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040365"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040366"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040365"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="MonadCatchIO"><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-var">MonadCatchIO</span></a></span></span><span> </span><span id="local-6989586621679040365"><span class="annot"><a href="#local-6989586621679040365"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679040366"><span class="annot"><a href="#local-6989586621679040366"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679040366"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040365"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-378"></span><span>  </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#catchAnyM"><span class="hs-pragma hs-type">catchAnyM</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span>  </span><span class="hs-comment">-- | 'catch' generalized to any 'MonadCatchIO' + 'MonadRunAsIOE'</span><span>
</span><span id="line-381"></span><span>  </span><span id="catchM"><span class="annot"><a href="CheckedIO.Core.html#catchM"><span class="hs-identifier hs-type">catchM</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679040367"><span id="local-6989586621679040368"><span id="local-6989586621679040369"><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIOE"><span class="hs-identifier hs-type">MonadRunAsIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040367"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040368"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040366"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040369"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040365"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040368"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040369"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040368"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040369"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-382"></span><span>  </span><span id="local-6989586621679041026"><span class="annot"><a href="CheckedIO.Core.html#catchM"><span class="hs-identifier hs-var hs-var">catchM</span></a></span><span> </span><span id="local-6989586621679041033"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041033"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679041034"><span class="annot"><span class="annottext">e -&gt; m' a
</span><a href="#local-6989586621679041034"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-383"></span><span>    </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041033"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">m a -&gt; (AnyException e -&gt; m' a) -&gt; m' a
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a.
(MonadCatchIO e m, MonadRunAsIOE e' m') =&gt;
m a -&gt; (AnyException e -&gt; m' a) -&gt; m' a
forall e' (m' :: * -&gt; *) a.
MonadRunAsIOE e' m' =&gt;
m a -&gt; (AnyException e -&gt; m' a) -&gt; m' a
</span><a href="CheckedIO.Core.html#catchAnyM"><span class="hs-operator hs-var">`catchAnyM`</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-384"></span><span>      </span><span class="annot"><a href="CheckedIO.Core.html#AnySyncException"><span class="hs-identifier hs-type">AnySyncException</span></a></span><span> </span><span id="local-6989586621679041035"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041035"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e -&gt; m' a
</span><a href="#local-6989586621679041034"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041035"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-385"></span><span>      </span><span class="annot"><a href="CheckedIO.Core.html#AnyAsyncException"><span class="hs-identifier hs-type">AnyAsyncException</span></a></span><span> </span><span id="local-6989586621679041036"><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041036"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnyException e' -&gt; m' a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; AnyException e -&gt; m a
</span><a href="CheckedIO.Core.html#rethrow"><span class="hs-identifier hs-var">rethrow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SomeException -&gt; AnyException e'
forall e. SomeException -&gt; AnyException e
</span><a href="CheckedIO.Core.html#AnyAsyncException"><span class="hs-identifier hs-var">AnyAsyncException</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041036"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-386"></span><span>      </span><span class="annot"><a href="CheckedIO.Core.html#AnyImpreciseException"><span class="hs-identifier hs-type">AnyImpreciseException</span></a></span><span> </span><span id="local-6989586621679041038"><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041038"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnyException e' -&gt; m' a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; AnyException e -&gt; m a
</span><a href="CheckedIO.Core.html#rethrow"><span class="hs-identifier hs-var">rethrow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SomeException -&gt; AnyException e'
forall e. SomeException -&gt; AnyException e
</span><a href="CheckedIO.Core.html#AnyImpreciseException"><span class="hs-identifier hs-var">AnyImpreciseException</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041038"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span>  </span><span class="hs-comment">-- | 'catchAny' generalized to any 'MonadCatchIO' + 'MonadRunAsIOE'</span><span>
</span><span id="line-389"></span><span>  </span><span id="catchAnyM"><span class="annot"><a href="CheckedIO.Core.html#catchAnyM"><span class="hs-identifier hs-type">catchAnyM</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679040376"><span id="local-6989586621679040377"><span id="local-6989586621679040378"><span class="annot"><a href="CheckedIO.Core.html#MonadRunAsIOE"><span class="hs-identifier hs-type">MonadRunAsIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040376"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040377"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040366"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040378"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040365"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040377"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040378"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040377"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040378"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-390"></span><span>
</span><span id="line-391"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679040363"><span id="local-6989586621679041045"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040363"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040363"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040363"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-392"></span><span>  </span><span id="local-6989586621679041055"><span class="annot"><span class="annottext">catchAnyM :: forall e' (m' :: * -&gt; *) a.
MonadRunAsIOE e' m' =&gt;
IOE e a -&gt; (AnyException e -&gt; m' a) -&gt; m' a
</span><a href="CheckedIO.Core.html#catchAnyM"><span class="hs-identifier hs-var hs-var hs-var hs-var">catchAnyM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIOE"><span class="hs-identifier hs-type">UnsafeIOE</span></a></span><span> </span><span id="local-6989586621679041056"><span class="annot"><span class="annottext">UnsafeIO a
</span><a href="#local-6989586621679041056"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679041057"><span class="annot"><span class="annottext">AnyException e -&gt; m' a
</span><a href="#local-6989586621679041057"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-393"></span><span>    </span><span class="annot"><span class="annottext">((forall a. m' a -&gt; IOE e' a) -&gt; IOE e' a) -&gt; m' a
forall b. ((forall a. m' a -&gt; IOE e' a) -&gt; IOE e' b) -&gt; m' b
forall e (m :: * -&gt; *) b.
MonadRunAsIOE e m =&gt;
((forall a. m a -&gt; IOE e a) -&gt; IOE e b) -&gt; m b
</span><a href="CheckedIO.Core.html#withRunAsIOE"><span class="hs-identifier hs-var">withRunAsIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(((forall a. m' a -&gt; IOE e' a) -&gt; IOE e' a) -&gt; m' a)
-&gt; ((forall a. m' a -&gt; IOE e' a) -&gt; IOE e' a) -&gt; m' a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679041058"><span class="annot"><span class="annottext">forall a. m' a -&gt; IOE e' a
</span><a href="#local-6989586621679041058"><span class="hs-identifier hs-var">run</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-394"></span><span>      </span><span class="annot"><span class="annottext">UnsafeIO a -&gt; IOE e' a
forall e a. UnsafeIO a -&gt; IOE e a
</span><a href="CheckedIO.Core.html#UnsafeIOE"><span class="hs-identifier hs-var">UnsafeIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsafeIO a -&gt; IOE e' a) -&gt; UnsafeIO a -&gt; IOE e' a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UnsafeIO a
</span><a href="#local-6989586621679041056"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">UnsafeIO a
-&gt; (AnyException SomeException -&gt; UnsafeIO a) -&gt; UnsafeIO a
forall e a. Exception e =&gt; IO a -&gt; (e -&gt; IO a) -&gt; IO a
</span><span class="hs-operator hs-var">`GHC.catch`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IOE e' a -&gt; UnsafeIO a
forall e a. IOE e a -&gt; UnsafeIO a
</span><a href="CheckedIO.Core.html#unIOE"><span class="hs-identifier hs-var">unIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(IOE e' a -&gt; UnsafeIO a)
-&gt; (AnyException SomeException -&gt; IOE e' a)
-&gt; AnyException SomeException
-&gt; UnsafeIO a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">m' a -&gt; IOE e' a
forall a. m' a -&gt; IOE e' a
</span><a href="#local-6989586621679041058"><span class="hs-identifier hs-var">run</span></a></span><span> </span><span class="annot"><span class="annottext">(m' a -&gt; IOE e' a)
-&gt; (AnyException SomeException -&gt; m' a)
-&gt; AnyException SomeException
-&gt; IOE e' a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">AnyException e -&gt; m' a
</span><a href="#local-6989586621679041057"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(AnyException e -&gt; m' a)
-&gt; (AnyException SomeException -&gt; AnyException e)
-&gt; AnyException SomeException
-&gt; m' a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">AnyException SomeException -&gt; AnyException e
forall e.
Exception e =&gt;
AnyException SomeException -&gt; AnyException e
</span><a href="CheckedIO.Core.html#castAnyException"><span class="hs-identifier hs-var">castAnyException</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="annot"><span class="hs-comment">-- | 'try' generalized to any 'MonadCatchIO' + 'MonadRunIOE'</span></span><span>
</span><span id="line-397"></span><span id="local-6989586621679040385"><span id="local-6989586621679040386"><span id="local-6989586621679040387"><span id="local-6989586621679040388"><span id="local-6989586621679040389"><span class="annot"><a href="CheckedIO.Core.html#tryM"><span class="hs-identifier hs-type">tryM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040385"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040386"><span class="hs-identifier hs-type">m1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040387"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040388"><span class="hs-identifier hs-type">m2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040386"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040389"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040388"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679040385"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040389"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-398"></span><span id="tryM"><span class="annot"><span class="annottext">tryM :: forall e (m1 :: * -&gt; *) e' (m2 :: * -&gt; *) a.
(MonadCatchIO e m1, MonadRunIOE e' m2) =&gt;
m1 a -&gt; m2 (Either e a)
</span><a href="CheckedIO.Core.html#tryM"><span class="hs-identifier hs-var hs-var">tryM</span></a></span></span><span> </span><span id="local-6989586621679041075"><span class="annot"><span class="annottext">m1 a
</span><a href="#local-6989586621679041075"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e' (Either e a) -&gt; m2 (Either e a)
forall a. IOE e' a -&gt; m2 a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; IOE e a -&gt; m a
</span><a href="CheckedIO.Core.html#runIOE"><span class="hs-identifier hs-var">runIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(IOE e' (Either e a) -&gt; m2 (Either e a))
-&gt; IOE e' (Either e a) -&gt; m2 (Either e a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either e a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either e a) -&gt; m1 a -&gt; m1 (Either e a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m1 a
</span><a href="#local-6989586621679041075"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m1 (Either e a)
-&gt; (e -&gt; IOE e' (Either e a)) -&gt; IOE e' (Either e a)
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a.
(MonadCatchIO e m, MonadRunAsIOE e' m') =&gt;
m a -&gt; (e -&gt; m' a) -&gt; m' a
forall e' (m' :: * -&gt; *) a.
MonadRunAsIOE e' m' =&gt;
m1 a -&gt; (e -&gt; m' a) -&gt; m' a
</span><a href="CheckedIO.Core.html#catchM"><span class="hs-operator hs-var">`catchM`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either e a -&gt; IOE e' (Either e a)
forall a. a -&gt; IOE e' a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Either e a -&gt; IOE e' (Either e a))
-&gt; (e -&gt; Either e a) -&gt; e -&gt; IOE e' (Either e a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; Either e a
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span id="local-6989586621679040564"><span id="local-6989586621679040565"><span id="local-6989586621679040566"><span id="local-6989586621679040567"><span id="local-6989586621679040568"><span id="local-6989586621679040569"><span id="local-6989586621679040570"><span id="local-6989586621679040571"><span class="annot"><a href="CheckedIO.Core.html#bracketM%27"><span class="hs-identifier hs-type">bracketM'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-401"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040564"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040565"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040566"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040567"><span class="hs-identifier hs-type">m'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-402"></span><span>  </span><span class="annot"><a href="#local-6989586621679040565"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ acquire</span></span><span>
</span><span id="line-403"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040565"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040569"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ release on success</span></span><span>
</span><span id="line-404"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040564"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040567"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040570"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ release on error</span></span><span>
</span><span id="line-405"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040565"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040571"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ action</span></span><span>
</span><span id="line-406"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040565"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040571"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-407"></span><span id="bracketM%27"><span class="annot"><span class="annottext">bracketM' :: forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b1 b2 c.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a
-&gt; (a -&gt; m b1)
-&gt; (AnyException e -&gt; a -&gt; m' b2)
-&gt; (a -&gt; m c)
-&gt; m c
</span><a href="CheckedIO.Core.html#bracketM%27"><span class="hs-identifier hs-var hs-var">bracketM'</span></a></span></span><span> </span><span id="local-6989586621679041098"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041098"><span class="hs-identifier hs-var">acquire</span></a></span></span><span> </span><span id="local-6989586621679041099"><span class="annot"><span class="annottext">a -&gt; m b1
</span><a href="#local-6989586621679041099"><span class="hs-identifier hs-var">releaseOnSuccess</span></a></span></span><span> </span><span id="local-6989586621679041100"><span class="annot"><span class="annottext">AnyException e -&gt; a -&gt; m' b2
</span><a href="#local-6989586621679041100"><span class="hs-identifier hs-var">releaseOnError</span></a></span></span><span> </span><span id="local-6989586621679041101"><span class="annot"><span class="annottext">a -&gt; m c
</span><a href="#local-6989586621679041101"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-408"></span><span>  </span><span class="annot"><span class="annottext">((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
 -&gt; m c)
-&gt; m c
forall e (m :: * -&gt; *) b.
MonadCatchIO e m =&gt;
((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
 -&gt; m b)
-&gt; m b
</span><a href="CheckedIO.Core.html#maskM"><span class="hs-identifier hs-var">maskM</span></a></span><span> </span><span class="annot"><span class="annottext">(((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
  -&gt; m c)
 -&gt; m c)
-&gt; ((forall (m' :: * -&gt; *) e' a.
     MonadCatchIO e' m' =&gt;
     m' a -&gt; m' a)
    -&gt; m c)
-&gt; m c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679041102"><span class="annot"><span class="annottext">forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a
</span><a href="#local-6989586621679041102"><span class="hs-identifier hs-var">restore</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-409"></span><span>    </span><span id="local-6989586621679041103"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679041103"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041098"><span class="hs-identifier hs-var">acquire</span></a></span><span>
</span><span id="line-410"></span><span>    </span><span class="annot"><span class="annottext">m c -&gt; m (Either (AnyException e) c)
forall {e} {m :: * -&gt; *} {m' :: * -&gt; *} {e'} {a}.
(MonadCatchIO e m, MonadRunAsIOE e' m') =&gt;
m a -&gt; m' (Either (AnyException e) a)
</span><a href="#local-6989586621679041104"><span class="hs-identifier hs-var">tryAny</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m c -&gt; m c
forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a
</span><a href="#local-6989586621679041102"><span class="hs-identifier hs-var">restore</span></a></span><span> </span><span class="annot"><span class="annottext">(m c -&gt; m c) -&gt; m c -&gt; m c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; m c
</span><a href="#local-6989586621679041101"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679041103"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m (Either (AnyException e) c)
-&gt; (Either (AnyException e) c -&gt; m c) -&gt; m c
forall a b. m a -&gt; (a -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-411"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679041105"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679041105"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-412"></span><span>        </span><span class="annot"><span class="annottext">b1
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m b1 -&gt; m b1
forall e (m :: * -&gt; *) a. MonadCatchIO e m =&gt; m a -&gt; m a
</span><a href="CheckedIO.Core.html#uninterruptibleMaskM_"><span class="hs-identifier hs-var">uninterruptibleMaskM_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; m b1
</span><a href="#local-6989586621679041099"><span class="hs-identifier hs-var">releaseOnSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679041103"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span>        </span><span class="annot"><span class="annottext">c -&gt; m c
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679041105"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-414"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679041106"><span class="annot"><span class="annottext">AnyException e
</span><a href="#local-6989586621679041106"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-415"></span><span>        </span><span class="hs-comment">-- explicitly ignore synchronous exceptions</span><span>
</span><span id="line-416"></span><span>        </span><span class="annot"><span class="annottext">Either e' b2
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m' b2 -&gt; m (Either e' b2)
forall e (m1 :: * -&gt; *) e' (m2 :: * -&gt; *) a.
(MonadCatchIO e m1, MonadRunIOE e' m2) =&gt;
m1 a -&gt; m2 (Either e a)
</span><a href="CheckedIO.Core.html#tryM"><span class="hs-identifier hs-var">tryM</span></a></span><span> </span><span class="annot"><span class="annottext">(m' b2 -&gt; m (Either e' b2)) -&gt; m' b2 -&gt; m (Either e' b2)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m' b2 -&gt; m' b2
forall e (m :: * -&gt; *) a. MonadCatchIO e m =&gt; m a -&gt; m a
</span><a href="CheckedIO.Core.html#uninterruptibleMaskM_"><span class="hs-identifier hs-var">uninterruptibleMaskM_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyException e -&gt; a -&gt; m' b2
</span><a href="#local-6989586621679041100"><span class="hs-identifier hs-var">releaseOnError</span></a></span><span> </span><span class="annot"><span class="annottext">AnyException e
</span><a href="#local-6989586621679041106"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679041103"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-417"></span><span>        </span><span class="annot"><span class="annottext">AnyException e -&gt; m c
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; AnyException e -&gt; m a
</span><a href="CheckedIO.Core.html#rethrow"><span class="hs-identifier hs-var">rethrow</span></a></span><span> </span><span class="annot"><span class="annottext">AnyException e
</span><a href="#local-6989586621679041106"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-418"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-419"></span><span>    </span><span id="local-6989586621679041104"><span class="annot"><span class="annottext">tryAny :: m a -&gt; m' (Either (AnyException e) a)
</span><a href="#local-6989586621679041104"><span class="hs-identifier hs-var hs-var">tryAny</span></a></span></span><span> </span><span id="local-6989586621679041149"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041149"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either (AnyException e) a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either (AnyException e) a)
-&gt; m a -&gt; m (Either (AnyException e) a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041149"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m (Either (AnyException e) a)
-&gt; (AnyException e -&gt; m' (Either (AnyException e) a))
-&gt; m' (Either (AnyException e) a)
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a.
(MonadCatchIO e m, MonadRunAsIOE e' m') =&gt;
m a -&gt; (AnyException e -&gt; m' a) -&gt; m' a
forall e' (m' :: * -&gt; *) a.
MonadRunAsIOE e' m' =&gt;
m a -&gt; (AnyException e -&gt; m' a) -&gt; m' a
</span><a href="CheckedIO.Core.html#catchAnyM"><span class="hs-operator hs-var">`catchAnyM`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Either (AnyException e) a -&gt; m' (Either (AnyException e) a)
forall a. a -&gt; m' a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Either (AnyException e) a -&gt; m' (Either (AnyException e) a))
-&gt; (AnyException e -&gt; Either (AnyException e) a)
-&gt; AnyException e
-&gt; m' (Either (AnyException e) a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">AnyException e -&gt; Either (AnyException e) a
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span class="annot"><span class="hs-comment">-- | 'bracket' generalized to any 'MonadCatchIO'</span></span><span>
</span><span id="line-422"></span><span id="local-6989586621679040423"><span id="local-6989586621679040424"><span id="local-6989586621679040425"><span id="local-6989586621679040426"><span id="local-6989586621679040427"><span class="annot"><a href="CheckedIO.Core.html#bracketM"><span class="hs-identifier hs-type">bracketM</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-423"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040423"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040424"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-424"></span><span>  </span><span class="annot"><a href="#local-6989586621679040424"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040425"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040425"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040424"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040426"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-426"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040425"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040424"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040427"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040424"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040427"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span><span>
</span><span id="line-428"></span><span id="bracketM"><span class="annot"><span class="annottext">bracketM :: forall e (m :: * -&gt; *) a b c.
MonadCatchIO e m =&gt;
m a -&gt; (a -&gt; m b) -&gt; (a -&gt; m c) -&gt; m c
</span><a href="CheckedIO.Core.html#bracketM"><span class="hs-identifier hs-var hs-var">bracketM</span></a></span></span><span> </span><span id="local-6989586621679041153"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041153"><span class="hs-identifier hs-var">acquire</span></a></span></span><span> </span><span id="local-6989586621679041154"><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679041154"><span class="hs-identifier hs-var">release</span></a></span></span><span> </span><span id="local-6989586621679041155"><span class="annot"><span class="annottext">a -&gt; m c
</span><a href="#local-6989586621679041155"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m a
-&gt; (a -&gt; m b) -&gt; (AnyException e -&gt; a -&gt; m b) -&gt; (a -&gt; m c) -&gt; m c
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b1 b2 c.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a
-&gt; (a -&gt; m b1)
-&gt; (AnyException e -&gt; a -&gt; m' b2)
-&gt; (a -&gt; m c)
-&gt; m c
</span><a href="CheckedIO.Core.html#bracketM%27"><span class="hs-identifier hs-var">bracketM'</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041153"><span class="hs-identifier hs-var">acquire</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679041154"><span class="hs-identifier hs-var">release</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">AnyException e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; m b
</span><a href="#local-6989586621679041154"><span class="hs-identifier hs-var">release</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; m c
</span><a href="#local-6989586621679041155"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="annot"><span class="hs-comment">-- | 'bracket_' generalized to any 'MonadCatchIO'</span></span><span>
</span><span id="line-431"></span><span id="local-6989586621679040436"><span id="local-6989586621679040437"><span id="local-6989586621679040438"><span id="local-6989586621679040439"><span id="local-6989586621679040440"><span class="annot"><a href="CheckedIO.Core.html#bracketM_"><span class="hs-identifier hs-type">bracketM_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040436"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040437"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040437"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040438"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040437"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040439"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040437"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040440"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040437"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040440"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span><span>
</span><span id="line-432"></span><span id="bracketM_"><span class="annot"><span class="annottext">bracketM_ :: forall e (m :: * -&gt; *) a b c.
MonadCatchIO e m =&gt;
m a -&gt; m b -&gt; m c -&gt; m c
</span><a href="CheckedIO.Core.html#bracketM_"><span class="hs-identifier hs-var hs-var">bracketM_</span></a></span></span><span> </span><span id="local-6989586621679041158"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041158"><span class="hs-identifier hs-var">acquire</span></a></span></span><span> </span><span id="local-6989586621679041159"><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679041159"><span class="hs-identifier hs-var">release</span></a></span></span><span> </span><span id="local-6989586621679041160"><span class="annot"><span class="annottext">m c
</span><a href="#local-6989586621679041160"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m a -&gt; (a -&gt; m b) -&gt; (a -&gt; m c) -&gt; m c
forall e (m :: * -&gt; *) a b c.
MonadCatchIO e m =&gt;
m a -&gt; (a -&gt; m b) -&gt; (a -&gt; m c) -&gt; m c
</span><a href="CheckedIO.Core.html#bracketM"><span class="hs-identifier hs-var">bracketM</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041158"><span class="hs-identifier hs-var">acquire</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m b -&gt; a -&gt; m b
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679041159"><span class="hs-identifier hs-var">release</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m c -&gt; a -&gt; m c
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">m c
</span><a href="#local-6989586621679041160"><span class="hs-identifier hs-var">action</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span class="annot"><span class="hs-comment">-- | 'bracketOnError' generalized to any 'MonadCatchIO'</span></span><span>
</span><span id="line-435"></span><span id="local-6989586621679040451"><span id="local-6989586621679040452"><span id="local-6989586621679040453"><span id="local-6989586621679040454"><span id="local-6989586621679040455"><span id="local-6989586621679040456"><span id="local-6989586621679040457"><span class="annot"><a href="CheckedIO.Core.html#bracketOnErrorM"><span class="hs-identifier hs-type">bracketOnErrorM</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-436"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040451"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040452"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040453"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040454"><span class="hs-identifier hs-type">m'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-437"></span><span>  </span><span class="annot"><a href="#local-6989586621679040452"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040455"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-438"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040455"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040454"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040456"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-439"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679040455"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040452"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040457"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-440"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040452"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040457"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-441"></span><span id="bracketOnErrorM"><span class="annot"><span class="annottext">bracketOnErrorM :: forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b c.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a -&gt; (a -&gt; m' b) -&gt; (a -&gt; m c) -&gt; m c
</span><a href="CheckedIO.Core.html#bracketOnErrorM"><span class="hs-identifier hs-var hs-var">bracketOnErrorM</span></a></span></span><span> </span><span id="local-6989586621679041171"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041171"><span class="hs-identifier hs-var">acquire</span></a></span></span><span> </span><span id="local-6989586621679041172"><span class="annot"><span class="annottext">a -&gt; m' b
</span><a href="#local-6989586621679041172"><span class="hs-identifier hs-var">release</span></a></span></span><span> </span><span id="local-6989586621679041173"><span class="annot"><span class="annottext">a -&gt; m c
</span><a href="#local-6989586621679041173"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m a
-&gt; (a -&gt; m ())
-&gt; (AnyException e -&gt; a -&gt; m' b)
-&gt; (a -&gt; m c)
-&gt; m c
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b1 b2 c.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a
-&gt; (a -&gt; m b1)
-&gt; (AnyException e -&gt; a -&gt; m' b2)
-&gt; (a -&gt; m c)
-&gt; m c
</span><a href="CheckedIO.Core.html#bracketM%27"><span class="hs-identifier hs-var">bracketM'</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041171"><span class="hs-identifier hs-var">acquire</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">AnyException e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; m' b
</span><a href="#local-6989586621679041172"><span class="hs-identifier hs-var">release</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; m c
</span><a href="#local-6989586621679041173"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span class="annot"><span class="hs-comment">-- | 'bracketOnError_' generalized to any 'MonadCatchIO'</span></span><span>
</span><span id="line-444"></span><span id="local-6989586621679040468"><span id="local-6989586621679040469"><span id="local-6989586621679040470"><span id="local-6989586621679040471"><span id="local-6989586621679040472"><span id="local-6989586621679040473"><span id="local-6989586621679040474"><span class="annot"><a href="CheckedIO.Core.html#bracketOnErrorM_"><span class="hs-identifier hs-type">bracketOnErrorM_</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-445"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040468"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040469"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040470"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040471"><span class="hs-identifier hs-type">m'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-446"></span><span>  </span><span class="annot"><a href="#local-6989586621679040469"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040472"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-447"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040471"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040473"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-448"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040469"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040474"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-449"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040469"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040474"><span class="hs-identifier hs-type">c</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-450"></span><span id="bracketOnErrorM_"><span class="annot"><span class="annottext">bracketOnErrorM_ :: forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b c.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a -&gt; m' b -&gt; m c -&gt; m c
</span><a href="CheckedIO.Core.html#bracketOnErrorM_"><span class="hs-identifier hs-var hs-var">bracketOnErrorM_</span></a></span></span><span> </span><span id="local-6989586621679041178"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041178"><span class="hs-identifier hs-var">acquire</span></a></span></span><span> </span><span id="local-6989586621679041179"><span class="annot"><span class="annottext">m' b
</span><a href="#local-6989586621679041179"><span class="hs-identifier hs-var">releaseOnError</span></a></span></span><span> </span><span id="local-6989586621679041180"><span class="annot"><span class="annottext">m c
</span><a href="#local-6989586621679041180"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m a -&gt; (a -&gt; m' b) -&gt; (a -&gt; m c) -&gt; m c
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b c.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a -&gt; (a -&gt; m' b) -&gt; (a -&gt; m c) -&gt; m c
</span><a href="CheckedIO.Core.html#bracketOnErrorM"><span class="hs-identifier hs-var">bracketOnErrorM</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041178"><span class="hs-identifier hs-var">acquire</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m' b -&gt; a -&gt; m' b
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">m' b
</span><a href="#local-6989586621679041179"><span class="hs-identifier hs-var">releaseOnError</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m c -&gt; a -&gt; m c
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">m c
</span><a href="#local-6989586621679041180"><span class="hs-identifier hs-var">action</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="annot"><span class="hs-comment">-- | 'finally' generalized to any 'MonadCatchIO'</span></span><span>
</span><span id="line-453"></span><span id="local-6989586621679040481"><span id="local-6989586621679040482"><span id="local-6989586621679040483"><span id="local-6989586621679040484"><span class="annot"><a href="CheckedIO.Core.html#finallyM"><span class="hs-identifier hs-type">finallyM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040481"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040482"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040482"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040483"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040482"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040484"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040482"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040483"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-454"></span><span id="finallyM"><span class="annot"><span class="annottext">finallyM :: forall e (m :: * -&gt; *) a b. MonadCatchIO e m =&gt; m a -&gt; m b -&gt; m a
</span><a href="CheckedIO.Core.html#finallyM"><span class="hs-identifier hs-var hs-var">finallyM</span></a></span></span><span> </span><span id="local-6989586621679041188"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041188"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span id="local-6989586621679041189"><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679041189"><span class="hs-identifier hs-var">cleanup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m () -&gt; m b -&gt; m a -&gt; m a
forall e (m :: * -&gt; *) a b c.
MonadCatchIO e m =&gt;
m a -&gt; m b -&gt; m c -&gt; m c
</span><a href="CheckedIO.Core.html#bracketM_"><span class="hs-identifier hs-var">bracketM_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679041189"><span class="hs-identifier hs-var">cleanup</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041188"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-455"></span><span>
</span><span id="line-456"></span><span class="annot"><span class="hs-comment">-- | 'onException' generalized to any 'MonadCatchIO'</span></span><span>
</span><span id="line-457"></span><span id="local-6989586621679040493"><span id="local-6989586621679040494"><span id="local-6989586621679040495"><span id="local-6989586621679040496"><span id="local-6989586621679040497"><span id="local-6989586621679040498"><span class="annot"><a href="CheckedIO.Core.html#onExceptionM"><span class="hs-identifier hs-type">onExceptionM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040493"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040494"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040495"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040496"><span class="hs-identifier hs-type">m'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040494"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040497"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040496"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040498"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040494"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040497"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-458"></span><span id="onExceptionM"><span class="annot"><span class="annottext">onExceptionM :: forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a -&gt; m' b -&gt; m a
</span><a href="CheckedIO.Core.html#onExceptionM"><span class="hs-identifier hs-var hs-var">onExceptionM</span></a></span></span><span> </span><span id="local-6989586621679041194"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041194"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span id="local-6989586621679041195"><span class="annot"><span class="annottext">m' b
</span><a href="#local-6989586621679041195"><span class="hs-identifier hs-var">after</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m a -&gt; (AnyException e -&gt; m' b) -&gt; m a
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a -&gt; (AnyException e -&gt; m' b) -&gt; m a
</span><a href="CheckedIO.Core.html#withExceptionM"><span class="hs-identifier hs-var">withExceptionM</span></a></span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041194"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">AnyException e
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m' b
</span><a href="#local-6989586621679041195"><span class="hs-identifier hs-var">after</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="annot"><span class="hs-comment">-- | 'withException' generalized to any 'MonadCatchIO'</span></span><span>
</span><span id="line-461"></span><span id="local-6989586621679040507"><span id="local-6989586621679040508"><span id="local-6989586621679040509"><span id="local-6989586621679040510"><span id="local-6989586621679040511"><span id="local-6989586621679040512"><span class="annot"><a href="CheckedIO.Core.html#withExceptionM"><span class="hs-identifier hs-type">withExceptionM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040507"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040508"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040509"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040510"><span class="hs-identifier hs-type">m'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040508"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040511"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040507"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040510"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040512"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040508"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040511"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-462"></span><span id="withExceptionM"><span class="annot"><span class="annottext">withExceptionM :: forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a -&gt; (AnyException e -&gt; m' b) -&gt; m a
</span><a href="CheckedIO.Core.html#withExceptionM"><span class="hs-identifier hs-var hs-var">withExceptionM</span></a></span></span><span> </span><span id="local-6989586621679041206"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041206"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span id="local-6989586621679041207"><span class="annot"><span class="annottext">AnyException e -&gt; m' b
</span><a href="#local-6989586621679041207"><span class="hs-identifier hs-var">after</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-463"></span><span>  </span><span class="annot"><span class="annottext">m ()
-&gt; (() -&gt; m ())
-&gt; (AnyException e -&gt; () -&gt; m' b)
-&gt; (() -&gt; m a)
-&gt; m a
forall e (m :: * -&gt; *) e' (m' :: * -&gt; *) a b1 b2 c.
(MonadCatchIO e m, MonadCatchIO e' m') =&gt;
m a
-&gt; (a -&gt; m b1)
-&gt; (AnyException e -&gt; a -&gt; m' b2)
-&gt; (a -&gt; m c)
-&gt; m c
</span><a href="CheckedIO.Core.html#bracketM%27"><span class="hs-identifier hs-var">bracketM'</span></a></span><span>
</span><span id="line-464"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-465"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-466"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679041208"><span class="annot"><span class="annottext">AnyException e
</span><a href="#local-6989586621679041208"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnyException e -&gt; m' b
</span><a href="#local-6989586621679041207"><span class="hs-identifier hs-var">after</span></a></span><span> </span><span class="annot"><span class="annottext">AnyException e
</span><a href="#local-6989586621679041208"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-467"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041206"><span class="hs-identifier hs-var">action</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span id="local-6989586621679040628"><span id="local-6989586621679040629"><span id="local-6989586621679040632"><span class="annot"><a href="CheckedIO.Core.html#maskM%27"><span class="hs-identifier hs-type">maskM'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-470"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040628"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040629"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-471"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040631"><span class="annot"><a href="#local-6989586621679040631"><span class="hs-identifier hs-type">b'</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040630"><span class="annot"><a href="#local-6989586621679040630"><span class="hs-identifier hs-type">a'</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040630"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040630"><span class="hs-identifier hs-type">a'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040631"><span class="hs-identifier hs-type">b'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040631"><span class="hs-identifier hs-type">b'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-472"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679041210"><span class="annot"><a href="#local-6989586621679041210"><span class="hs-identifier hs-type">m'</span></a></span></span><span> </span><span id="local-6989586621679041211"><span class="annot"><a href="#local-6989586621679041211"><span class="hs-identifier hs-type">e'</span></a></span></span><span> </span><span id="local-6989586621679041212"><span class="annot"><a href="#local-6989586621679041212"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041211"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041210"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679041210"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041212"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679041210"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041212"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040629"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040632"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040629"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040632"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-474"></span><span id="maskM%27"><span class="annot"><span class="annottext">maskM' :: forall e (m :: * -&gt; *) b.
MonadCatchIO e m =&gt;
(forall b'.
 ((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b')
 -&gt; UnsafeIO b')
-&gt; ((forall (m' :: * -&gt; *) e' a.
     MonadCatchIO e' m' =&gt;
     m' a -&gt; m' a)
    -&gt; m b)
-&gt; m b
</span><a href="CheckedIO.Core.html#maskM%27"><span class="hs-identifier hs-var hs-var">maskM'</span></a></span></span><span> </span><span id="local-6989586621679041223"><span class="annot"><span class="annottext">forall b'.
((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b')
-&gt; UnsafeIO b'
</span><a href="#local-6989586621679041223"><span class="hs-identifier hs-var">unsafeMask</span></a></span></span><span> </span><span id="local-6989586621679041224"><span class="annot"><span class="annottext">(forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
-&gt; m b
</span><a href="#local-6989586621679041224"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-475"></span><span>  </span><span class="annot"><span class="annottext">((forall a. m a -&gt; IOE e a) -&gt; IOE e b) -&gt; m b
forall b. ((forall a. m a -&gt; IOE e a) -&gt; IOE e b) -&gt; m b
forall e (m :: * -&gt; *) b.
MonadRunAsIOE e m =&gt;
((forall a. m a -&gt; IOE e a) -&gt; IOE e b) -&gt; m b
</span><a href="CheckedIO.Core.html#withRunAsIOE"><span class="hs-identifier hs-var">withRunAsIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(((forall a. m a -&gt; IOE e a) -&gt; IOE e b) -&gt; m b)
-&gt; ((forall a. m a -&gt; IOE e a) -&gt; IOE e b) -&gt; m b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679041225"><span class="annot"><span class="annottext">forall a. m a -&gt; IOE e a
</span><a href="#local-6989586621679041225"><span class="hs-identifier hs-var">run</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-476"></span><span>    </span><span class="annot"><span class="annottext">UIO (Either e b) -&gt; IOE e b
forall e (m :: * -&gt; *) a.
MonadRunIOE e m =&gt;
UIO (Either e a) -&gt; m a
</span><a href="CheckedIO.Core.html#fromUIO"><span class="hs-identifier hs-var">fromUIO</span></a></span><span> </span><span class="annot"><span class="annottext">(UIO (Either e b) -&gt; IOE e b) -&gt; UIO (Either e b) -&gt; IOE e b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO (Either e b))
-&gt; UIO (Either e b)
forall e (m :: * -&gt; *) b.
MonadRunIOE e m =&gt;
((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b) -&gt; m b
</span><a href="#local-6989586621679041226"><span class="hs-identifier hs-var">maskIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO (Either e b))
 -&gt; UIO (Either e b))
-&gt; ((forall a'. UnsafeIO a' -&gt; UnsafeIO a')
    -&gt; UnsafeIO (Either e b))
-&gt; UIO (Either e b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679041227"><span class="annot"><span class="annottext">forall a'. UnsafeIO a' -&gt; UnsafeIO a'
</span><a href="#local-6989586621679041227"><span class="hs-identifier hs-var">restore</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-477"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679041267"><span class="annot"><span class="annottext">restoreIOE :: m1 a -&gt; m a
</span><a href="#local-6989586621679041267"><span class="hs-identifier hs-var hs-var">restoreIOE</span></a></span></span><span> </span><span id="local-6989586621679041268"><span class="annot"><span class="annottext">m1 a
</span><a href="#local-6989586621679041268"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-478"></span><span>            </span><span class="annot"><span class="annottext">UIO (Either e a) -&gt; m a
forall e (m :: * -&gt; *) a.
MonadRunIOE e m =&gt;
UIO (Either e a) -&gt; m a
</span><a href="CheckedIO.Core.html#fromUIO"><span class="hs-identifier hs-var">fromUIO</span></a></span><span> </span><span class="annot"><span class="annottext">(UIO (Either e a) -&gt; m a) -&gt; UIO (Either e a) -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-479"></span><span>              </span><span class="annot"><span class="annottext">(SomeException -&gt; Void)
-&gt; UnsafeIO (Either e a) -&gt; UIO (Either e a)
forall e (m :: * -&gt; *) a.
MonadRunIOE e m =&gt;
(SomeException -&gt; e) -&gt; UnsafeIO a -&gt; m a
</span><a href="CheckedIO.Core.html#checkIOWith"><span class="hs-identifier hs-var">checkIOWith</span></a></span><span>
</span><span id="line-480"></span><span>                </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679041269"><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041269"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Void
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Void) -&gt; [Char] -&gt; Void
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;restore unexpectedly threw an error: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041269"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-481"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnsafeIO (Either e a) -&gt; UnsafeIO (Either e a)
forall a'. UnsafeIO a' -&gt; UnsafeIO a'
</span><a href="#local-6989586621679041227"><span class="hs-identifier hs-var">restore</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsafeIO (Either e a) -&gt; UnsafeIO (Either e a))
-&gt; UnsafeIO (Either e a) -&gt; UnsafeIO (Either e a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UIO (Either e a) -&gt; UnsafeIO (Either e a)
forall a. UIO a -&gt; UnsafeIO a
</span><a href="CheckedIO.Core.html#unUIO"><span class="hs-identifier hs-var">unUIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m1 a -&gt; UIO (Either e a)
forall e (m1 :: * -&gt; *) e' (m2 :: * -&gt; *) a.
(MonadCatchIO e m1, MonadRunIOE e' m2) =&gt;
m1 a -&gt; m2 (Either e a)
</span><a href="CheckedIO.Core.html#tryM"><span class="hs-identifier hs-var">tryM</span></a></span><span> </span><span class="annot"><span class="annottext">m1 a
</span><a href="#local-6989586621679041268"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-482"></span><span>      </span><span class="annot"><span class="annottext">UIO (Either e b) -&gt; UnsafeIO (Either e b)
forall a. UIO a -&gt; UnsafeIO a
</span><a href="CheckedIO.Core.html#unUIO"><span class="hs-identifier hs-var">unUIO</span></a></span><span> </span><span class="annot"><span class="annottext">(UIO (Either e b) -&gt; UnsafeIO (Either e b))
-&gt; UIO (Either e b) -&gt; UnsafeIO (Either e b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IOE e b -&gt; UIO (Either e b)
forall e1 e2 a.
(Exception e1, Exception e2) =&gt;
IOE e1 a -&gt; IOE e2 (Either e1 a)
</span><a href="CheckedIO.Core.html#try"><span class="hs-identifier hs-var">try</span></a></span><span> </span><span class="annot"><span class="annottext">(IOE e b -&gt; UIO (Either e b)) -&gt; IOE e b -&gt; UIO (Either e b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m b -&gt; IOE e b
forall a. m a -&gt; IOE e a
</span><a href="#local-6989586621679041225"><span class="hs-identifier hs-var">run</span></a></span><span> </span><span class="annot"><span class="annottext">(m b -&gt; IOE e b) -&gt; m b -&gt; IOE e b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
-&gt; m b
</span><a href="#local-6989586621679041224"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">m' a -&gt; m' a
forall {e} {m1 :: * -&gt; *} {m :: * -&gt; *} {a}.
(MonadCatchIO e m1, MonadRunIOE e m) =&gt;
m1 a -&gt; m a
forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a
</span><a href="#local-6989586621679041267"><span class="hs-identifier hs-var">restoreIOE</span></a></span><span>
</span><span id="line-483"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-484"></span><span>    </span><span id="local-6989586621679040636"><span id="local-6989586621679040637"><span id="local-6989586621679040638"><span class="annot"><a href="#local-6989586621679041226"><span class="hs-identifier hs-type">maskIOE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040636"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040637"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679041277"><span class="annot"><a href="#local-6989586621679041277"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041277"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041277"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040638"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040637"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040638"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-485"></span><span>    </span><span id="local-6989586621679041226"><span class="annot"><span class="annottext">maskIOE :: forall e (m :: * -&gt; *) b.
MonadRunIOE e m =&gt;
((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b) -&gt; m b
</span><a href="#local-6989586621679041226"><span class="hs-identifier hs-var hs-var">maskIOE</span></a></span></span><span> </span><span id="local-6989586621679041283"><span class="annot"><span class="annottext">(forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b
</span><a href="#local-6989586621679041283"><span class="hs-identifier hs-var">f'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SomeException -&gt; e) -&gt; UnsafeIO b -&gt; m b
forall e (m :: * -&gt; *) a.
MonadRunIOE e m =&gt;
(SomeException -&gt; e) -&gt; UnsafeIO a -&gt; m a
</span><a href="CheckedIO.Core.html#checkIOWith"><span class="hs-identifier hs-var">checkIOWith</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679041284"><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041284"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; e
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; e) -&gt; [Char] -&gt; e
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;mask unexpectedly threw an error: &quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041284"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b)
-&gt; UnsafeIO b
forall b'.
((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b')
-&gt; UnsafeIO b'
</span><a href="#local-6989586621679041223"><span class="hs-identifier hs-var">unsafeMask</span></a></span><span> </span><span class="annot"><span class="annottext">(forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b
</span><a href="#local-6989586621679041283"><span class="hs-identifier hs-var">f'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-486"></span><span>
</span><span id="line-487"></span><span class="annot"><span class="hs-comment">-- | 'mask' generalized to any 'MonadCatchIO'</span></span><span>
</span><span id="line-488"></span><span id="local-6989586621679040522"><span id="local-6989586621679040523"><span id="local-6989586621679040524"><span class="annot"><a href="CheckedIO.Core.html#maskM"><span class="hs-identifier hs-type">maskM</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-489"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040522"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040523"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-490"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040520"><span class="annot"><a href="#local-6989586621679040520"><span class="hs-identifier hs-type">m'</span></a></span></span><span> </span><span id="local-6989586621679040519"><span class="annot"><a href="#local-6989586621679040519"><span class="hs-identifier hs-type">e'</span></a></span></span><span> </span><span id="local-6989586621679040521"><span class="annot"><a href="#local-6989586621679040521"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040519"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040520"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040520"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040521"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040520"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040521"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040523"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040524"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-491"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040523"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040524"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-492"></span><span id="maskM"><span class="annot"><span class="annottext">maskM :: forall e (m :: * -&gt; *) b.
MonadCatchIO e m =&gt;
((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
 -&gt; m b)
-&gt; m b
</span><a href="CheckedIO.Core.html#maskM"><span class="hs-identifier hs-var hs-var">maskM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b'.
 ((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b')
 -&gt; UnsafeIO b')
-&gt; ((forall (m' :: * -&gt; *) e' a.
     MonadCatchIO e' m' =&gt;
     m' a -&gt; m' a)
    -&gt; m b)
-&gt; m b
forall e (m :: * -&gt; *) b.
MonadCatchIO e m =&gt;
(forall b'.
 ((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b')
 -&gt; UnsafeIO b')
-&gt; ((forall (m' :: * -&gt; *) e' a.
     MonadCatchIO e' m' =&gt;
     m' a -&gt; m' a)
    -&gt; m b)
-&gt; m b
</span><a href="CheckedIO.Core.html#maskM%27"><span class="hs-identifier hs-var">maskM'</span></a></span><span> </span><span class="annot"><span class="annottext">((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b')
-&gt; UnsafeIO b'
forall b'.
((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b')
-&gt; UnsafeIO b'
</span><span class="hs-identifier hs-var">GHC.mask</span></span><span>
</span><span id="line-493"></span><span>
</span><span id="line-494"></span><span class="annot"><span class="hs-comment">-- | 'uninterruptibleMask' generalized to any 'MonadCatchIO'</span></span><span>
</span><span id="line-495"></span><span id="local-6989586621679041290"><span id="local-6989586621679041291"><span id="local-6989586621679041292"><span class="annot"><a href="CheckedIO.Core.html#uninterruptibleMaskM"><span class="hs-identifier hs-type">uninterruptibleMaskM</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-496"></span><span>  </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041290"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041291"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-497"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679041293"><span class="annot"><a href="#local-6989586621679041293"><span class="hs-identifier hs-type">m'</span></a></span></span><span> </span><span id="local-6989586621679041294"><span class="annot"><a href="#local-6989586621679041294"><span class="hs-identifier hs-type">e'</span></a></span></span><span> </span><span id="local-6989586621679041295"><span class="annot"><a href="#local-6989586621679041295"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041294"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041293"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679041293"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041295"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679041293"><span class="hs-identifier hs-type">m'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041295"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679041291"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041292"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679041291"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041292"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-499"></span><span id="uninterruptibleMaskM"><span class="annot"><span class="annottext">uninterruptibleMaskM :: forall e (m :: * -&gt; *) b.
MonadCatchIO e m =&gt;
((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
 -&gt; m b)
-&gt; m b
</span><a href="CheckedIO.Core.html#uninterruptibleMaskM"><span class="hs-identifier hs-var hs-var">uninterruptibleMaskM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall b'.
 ((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b')
 -&gt; UnsafeIO b')
-&gt; ((forall (m' :: * -&gt; *) e' a.
     MonadCatchIO e' m' =&gt;
     m' a -&gt; m' a)
    -&gt; m b)
-&gt; m b
forall e (m :: * -&gt; *) b.
MonadCatchIO e m =&gt;
(forall b'.
 ((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b')
 -&gt; UnsafeIO b')
-&gt; ((forall (m' :: * -&gt; *) e' a.
     MonadCatchIO e' m' =&gt;
     m' a -&gt; m' a)
    -&gt; m b)
-&gt; m b
</span><a href="CheckedIO.Core.html#maskM%27"><span class="hs-identifier hs-var">maskM'</span></a></span><span> </span><span class="annot"><span class="annottext">((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; IO b') -&gt; IO b'
forall b'.
((forall a'. UnsafeIO a' -&gt; UnsafeIO a') -&gt; UnsafeIO b')
-&gt; UnsafeIO b'
</span><span class="hs-identifier hs-var">GHC.uninterruptibleMask</span></span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span class="annot"><span class="hs-comment">-- | 'mask_' generalized to any 'MonadCatchIO'</span></span><span>
</span><span id="line-502"></span><span id="local-6989586621679040531"><span id="local-6989586621679040532"><span id="local-6989586621679040533"><span class="annot"><a href="CheckedIO.Core.html#maskM_"><span class="hs-identifier hs-type">maskM_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040531"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040532"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040532"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040533"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040532"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040533"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-503"></span><span id="maskM_"><span class="annot"><span class="annottext">maskM_ :: forall e (m :: * -&gt; *) a. MonadCatchIO e m =&gt; m a -&gt; m a
</span><a href="CheckedIO.Core.html#maskM_"><span class="hs-identifier hs-var hs-var">maskM_</span></a></span></span><span> </span><span id="local-6989586621679041303"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041303"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
 -&gt; m a)
-&gt; m a
forall e (m :: * -&gt; *) b.
MonadCatchIO e m =&gt;
((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
 -&gt; m b)
-&gt; m b
</span><a href="CheckedIO.Core.html#maskM"><span class="hs-identifier hs-var">maskM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041303"><span class="hs-identifier hs-var">action</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-504"></span><span>
</span><span id="line-505"></span><span class="annot"><span class="hs-comment">-- | 'uninterruptibleMask_' generalized to any 'MonadCatchIO'</span></span><span>
</span><span id="line-506"></span><span id="local-6989586621679041304"><span id="local-6989586621679041305"><span id="local-6989586621679041306"><span class="annot"><a href="CheckedIO.Core.html#uninterruptibleMaskM_"><span class="hs-identifier hs-type">uninterruptibleMaskM_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadCatchIO"><span class="hs-identifier hs-type">MonadCatchIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041304"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041305"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679041305"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041306"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679041305"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041306"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-507"></span><span id="uninterruptibleMaskM_"><span class="annot"><span class="annottext">uninterruptibleMaskM_ :: forall e (m :: * -&gt; *) a. MonadCatchIO e m =&gt; m a -&gt; m a
</span><a href="CheckedIO.Core.html#uninterruptibleMaskM_"><span class="hs-identifier hs-var hs-var">uninterruptibleMaskM_</span></a></span></span><span> </span><span id="local-6989586621679041309"><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041309"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
 -&gt; m a)
-&gt; m a
forall e (m :: * -&gt; *) b.
MonadCatchIO e m =&gt;
((forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a)
 -&gt; m b)
-&gt; m b
</span><a href="CheckedIO.Core.html#uninterruptibleMaskM"><span class="hs-identifier hs-var">uninterruptibleMaskM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">forall (m' :: * -&gt; *) e' a. MonadCatchIO e' m' =&gt; m' a -&gt; m' a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621679041309"><span class="hs-identifier hs-var">action</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-508"></span><span>
</span><span id="line-509"></span><span class="hs-comment">{----- Interop with unchecked IO -----}</span><span>
</span><span id="line-510"></span><span>
</span><span id="line-511"></span><span class="annot"><span class="hs-comment">-- | A convenient alias for 'main' functions</span></span><span>
</span><span id="line-512"></span><span class="hs-keyword">type</span><span> </span><span id="Main"><span class="annot"><a href="CheckedIO.Core.html#Main"><span class="hs-identifier hs-var">Main</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span class="annot"><span class="hs-comment">-- | Convert an unchecked IO action into a checked IO action.</span></span><span>
</span><span id="line-515"></span><span id="local-6989586621679040675"><span id="local-6989586621679040676"><span class="annot"><a href="CheckedIO.Core.html#checkIO"><span class="hs-identifier hs-type">checkIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIO"><span class="hs-identifier hs-type">MonadRunIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040675"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040676"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040675"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040676"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-516"></span><span id="checkIO"><span class="annot"><span class="annottext">checkIO :: forall (m :: * -&gt; *) a. MonadRunIO m =&gt; UnsafeIO a -&gt; m a
</span><a href="CheckedIO.Core.html#checkIO"><span class="hs-identifier hs-var hs-var">checkIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SomeException -&gt; SomeSyncException) -&gt; UnsafeIO a -&gt; m a
forall e (m :: * -&gt; *) a.
MonadRunIOE e m =&gt;
(SomeException -&gt; e) -&gt; UnsafeIO a -&gt; m a
</span><a href="CheckedIO.Core.html#checkIOWith"><span class="hs-identifier hs-var">checkIOWith</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span id="local-6989586621679041314"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041314"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e -&gt; SomeSyncException
forall e. Exception e =&gt; e -&gt; SomeSyncException
</span><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-var">SomeSyncException</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041314"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-517"></span><span>
</span><span id="line-518"></span><span class="hs-comment">-- | Same as 'checkIO' except converting a synchronous exception with the given function.</span><span>
</span><span id="line-519"></span><span class="hs-comment">--</span><span>
</span><span id="line-520"></span><span class="hs-comment">-- Equivalent to @mapExceptionM f . checkIO@, except more performant.</span><span>
</span><span id="line-521"></span><span id="local-6989586621679040644"><span id="local-6989586621679040645"><span id="local-6989586621679040646"><span class="annot"><a href="CheckedIO.Core.html#checkIOWith"><span class="hs-identifier hs-type">checkIOWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040644"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040645"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040644"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040646"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040645"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040646"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-522"></span><span id="checkIOWith"><span class="annot"><span class="annottext">checkIOWith :: forall e (m :: * -&gt; *) a.
MonadRunIOE e m =&gt;
(SomeException -&gt; e) -&gt; UnsafeIO a -&gt; m a
</span><a href="CheckedIO.Core.html#checkIOWith"><span class="hs-identifier hs-var hs-var">checkIOWith</span></a></span></span><span> </span><span id="local-6989586621679041322"><span class="annot"><span class="annottext">SomeException -&gt; e
</span><a href="#local-6989586621679041322"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679041323"><span class="annot"><span class="annottext">UnsafeIO a
</span><a href="#local-6989586621679041323"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SomeException -&gt; e) -&gt; UnsafeIO a -&gt; m (Either e a)
forall e' (m :: * -&gt; *) e a.
MonadRunIOE e' m =&gt;
(SomeException -&gt; e) -&gt; UnsafeIO a -&gt; m (Either e a)
</span><a href="CheckedIO.Core.html#checkUIOWith"><span class="hs-identifier hs-var">checkUIOWith</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; e
</span><a href="#local-6989586621679041322"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">UnsafeIO a
</span><a href="#local-6989586621679041323"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">m (Either e a) -&gt; (Either e a -&gt; m a) -&gt; m a
forall a b. m a -&gt; (a -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">(e -&gt; m a) -&gt; (a -&gt; m a) -&gt; Either e a -&gt; m a
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; m a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; e -&gt; m a
</span><a href="CheckedIO.Core.html#throw"><span class="hs-identifier hs-var">throw</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; m a
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span class="hs-comment">-- | Same as 'checkIOWith' except returning the exception as an @Either@ instead of</span><span>
</span><span id="line-525"></span><span class="hs-comment">-- throwing it.</span><span>
</span><span id="line-526"></span><span id="local-6989586621679040683"><span id="local-6989586621679040684"><span id="local-6989586621679040685"><span id="local-6989586621679040686"><span class="annot"><a href="CheckedIO.Core.html#checkUIOWith"><span class="hs-identifier hs-type">checkUIOWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040683"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040684"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040685"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040686"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040684"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679040685"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040686"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-527"></span><span id="checkUIOWith"><span class="annot"><span class="annottext">checkUIOWith :: forall e' (m :: * -&gt; *) e a.
MonadRunIOE e' m =&gt;
(SomeException -&gt; e) -&gt; UnsafeIO a -&gt; m (Either e a)
</span><a href="CheckedIO.Core.html#checkUIOWith"><span class="hs-identifier hs-var hs-var">checkUIOWith</span></a></span></span><span> </span><span id="local-6989586621679041331"><span class="annot"><span class="annottext">SomeException -&gt; e
</span><a href="#local-6989586621679041331"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679041332"><span class="annot"><span class="annottext">UnsafeIO a
</span><a href="#local-6989586621679041332"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-528"></span><span>  </span><span class="annot"><span class="annottext">IOE e' (Either e a) -&gt; m (Either e a)
forall a. IOE e' a -&gt; m a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; IOE e a -&gt; m a
</span><a href="CheckedIO.Core.html#runIOE"><span class="hs-identifier hs-var">runIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(IOE e' (Either e a) -&gt; m (Either e a))
-&gt; (UnsafeIO (Either e a) -&gt; IOE e' (Either e a))
-&gt; UnsafeIO (Either e a)
-&gt; m (Either e a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UnsafeIO (Either e a) -&gt; IOE e' (Either e a)
forall e a. UnsafeIO a -&gt; IOE e a
</span><a href="CheckedIO.Core.html#UnsafeIOE"><span class="hs-identifier hs-var">UnsafeIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsafeIO (Either e a) -&gt; m (Either e a))
-&gt; UnsafeIO (Either e a) -&gt; m (Either e a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-529"></span><span>    </span><span class="annot"><span class="annottext">UnsafeIO a -&gt; IO (Either (AnyException SomeException) a)
forall e a. Exception e =&gt; IO a -&gt; IO (Either e a)
</span><span class="hs-identifier hs-var">GHC.try</span></span><span> </span><span class="annot"><span class="annottext">UnsafeIO a
</span><a href="#local-6989586621679041332"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Either (AnyException SomeException) a)
-&gt; (Either (AnyException SomeException) a -&gt; UnsafeIO (Either e a))
-&gt; UnsafeIO (Either e a)
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-530"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679041334"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679041334"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either e a -&gt; UnsafeIO (Either e a)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Either e a -&gt; UnsafeIO (Either e a))
-&gt; Either e a -&gt; UnsafeIO (Either e a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either e a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679041334"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-531"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#AnySyncException"><span class="hs-identifier hs-type">AnySyncException</span></a></span><span> </span><span id="local-6989586621679041335"><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041335"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either e a -&gt; UnsafeIO (Either e a)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Either e a -&gt; UnsafeIO (Either e a))
-&gt; Either e a -&gt; UnsafeIO (Either e a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; Either e a
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SomeException -&gt; e
</span><a href="#local-6989586621679041331"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041335"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-532"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679041336"><span class="annot"><span class="annottext">AnyException SomeException
</span><a href="#local-6989586621679041336"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AnyException SomeException -&gt; UnsafeIO (Either e a)
forall e a. Exception e =&gt; e -&gt; IO a
</span><span class="hs-identifier hs-var">GHC.throwIO</span></span><span> </span><span class="annot"><span class="annottext">AnyException SomeException
</span><a href="#local-6989586621679041336"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-533"></span><span>
</span><span id="line-534"></span><span class="hs-comment">-- | Convert an unchecked IO action into a checked IO action that can throw</span><span>
</span><span id="line-535"></span><span class="hs-comment">-- the given exception type.</span><span>
</span><span id="line-536"></span><span class="hs-comment">--</span><span>
</span><span id="line-537"></span><span class="hs-comment">-- __Warning__: If the IO action threw a different synchronous exception,</span><span>
</span><span id="line-538"></span><span class="hs-comment">-- this function will error. Prefer using 'checkIOWith' and calling 'error'</span><span>
</span><span id="line-539"></span><span class="hs-comment">-- yourself with a better error message.</span><span>
</span><span id="line-540"></span><span id="local-6989586621679040693"><span id="local-6989586621679040694"><span id="local-6989586621679040695"><span class="annot"><a href="CheckedIO.Core.html#unsafeCheckIO"><span class="hs-identifier hs-type">unsafeCheckIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040693"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040694"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040695"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040694"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040695"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-541"></span><span id="unsafeCheckIO"><span class="annot"><span class="annottext">unsafeCheckIO :: forall e (m :: * -&gt; *) a.
(HasCallStack, MonadRunIOE e m) =&gt;
UnsafeIO a -&gt; m a
</span><a href="CheckedIO.Core.html#unsafeCheckIO"><span class="hs-identifier hs-var hs-var">unsafeCheckIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; m a
forall a. IOE e a -&gt; m a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; IOE e a -&gt; m a
</span><a href="CheckedIO.Core.html#runIOE"><span class="hs-identifier hs-var">runIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(IOE e a -&gt; m a) -&gt; (UnsafeIO a -&gt; IOE e a) -&gt; UnsafeIO a -&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(SomeSyncException -&gt; e) -&gt; IOE SomeSyncException a -&gt; IOE e a
forall e1 e2 (m1 :: * -&gt; *) (m2 :: * -&gt; *) a.
(MonadCatchIO e1 m1, MonadRunAsIOE e2 m2) =&gt;
(e1 -&gt; e2) -&gt; m1 a -&gt; m2 a
</span><a href="CheckedIO.Core.html#mapExceptionM"><span class="hs-identifier hs-var">mapExceptionM</span></a></span><span> </span><span class="annot"><span class="annottext">SomeSyncException -&gt; e
forall {p}. Typeable p =&gt; SomeSyncException -&gt; p
</span><a href="#local-6989586621679041348"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">(IOE SomeSyncException a -&gt; IOE e a)
-&gt; (UnsafeIO a -&gt; IOE SomeSyncException a) -&gt; UnsafeIO a -&gt; IOE e a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadRunIO m =&gt; UnsafeIO a -&gt; m a
</span><a href="CheckedIO.Core.html#checkIO"><span class="hs-identifier hs-var">checkIO</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="CheckedIO.Core.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span>
</span><span id="line-542"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-543"></span><span>    </span><span id="local-6989586621679041348"><span class="annot"><span class="annottext">convert :: SomeSyncException -&gt; p
</span><a href="#local-6989586621679041348"><span class="hs-identifier hs-var hs-var">convert</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-type">SomeSyncException</span></a></span><span> </span><span id="local-6989586621679041360"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041360"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-544"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">e -&gt; Maybe p
forall a b. (Typeable a, Typeable b) =&gt; a -&gt; Maybe b
</span><span class="hs-identifier hs-var">cast</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041360"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-545"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679041361"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679041361"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679041361"><span class="hs-identifier hs-var">e'</span></a></span><span>
</span><span id="line-546"></span><span>        </span><span class="annot"><span class="annottext">Maybe p
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-547"></span><span>          </span><span class="annot"><span class="annottext">p -&gt; p
(HasCallStack =&gt; p) -&gt; p
forall a. HasCallStack =&gt; (HasCallStack =&gt; a) -&gt; a
</span><span class="hs-identifier hs-var">withFrozenCallStack</span></span><span> </span><span class="annot"><span class="annottext">(p -&gt; p) -&gt; ([Char] -&gt; p) -&gt; [Char] -&gt; p
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; p
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; p) -&gt; [Char] -&gt; p
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-548"></span><span>            </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;unsafeCheckIO was called on an action that threw an unexpected error: &quot;</span></span><span>
</span><span id="line-549"></span><span>              </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041360"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span class="annot"><span class="hs-comment">-- | Same as 'unsafeCheckIO', except expects /no/ exceptions to be thrown.</span></span><span>
</span><span id="line-552"></span><span id="local-6989586621679041363"><span id="local-6989586621679041364"><span id="local-6989586621679041365"><span class="annot"><a href="CheckedIO.Core.html#unsafeCheckUIO"><span class="hs-identifier hs-type">unsafeCheckUIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041363"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041364"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041365"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679041364"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041365"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-553"></span><span id="unsafeCheckUIO"><span class="annot"><span class="annottext">unsafeCheckUIO :: forall e (m :: * -&gt; *) a.
(HasCallStack, MonadRunIOE e m) =&gt;
UnsafeIO a -&gt; m a
</span><a href="CheckedIO.Core.html#unsafeCheckUIO"><span class="hs-identifier hs-var hs-var">unsafeCheckUIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m a -&gt; m a
(HasCallStack =&gt; m a) -&gt; m a
forall a. HasCallStack =&gt; (HasCallStack =&gt; a) -&gt; a
</span><span class="hs-identifier hs-var">withFrozenCallStack</span></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; m a) -&gt; (UnsafeIO a -&gt; m a) -&gt; UnsafeIO a -&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UIO a -&gt; m a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; UIO a -&gt; m a
</span><a href="CheckedIO.Core.html#runUIO"><span class="hs-identifier hs-var">runUIO</span></a></span><span> </span><span class="annot"><span class="annottext">(UIO a -&gt; m a) -&gt; (UnsafeIO a -&gt; UIO a) -&gt; UnsafeIO a -&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UnsafeIO a -&gt; UIO a
forall e (m :: * -&gt; *) a.
(HasCallStack, MonadRunIOE e m) =&gt;
UnsafeIO a -&gt; m a
</span><a href="CheckedIO.Core.html#unsafeCheckIO"><span class="hs-identifier hs-var">unsafeCheckIO</span></a></span><span>
</span><span id="line-554"></span><span>
</span><span id="line-555"></span><span class="hs-comment">-- | Unchecks an 'IOE' action back into the normal 'GHC.IO' monad.</span><span>
</span><span id="line-556"></span><span class="hs-comment">--</span><span>
</span><span id="line-557"></span><span class="hs-comment">-- __Warning__: Imprecise exceptions might be wrapped in 'AnyException'</span><span>
</span><span id="line-558"></span><span class="hs-comment">-- after converting to 'UnsafeIO'. See 'throwImprecise' for more details.</span><span>
</span><span id="line-559"></span><span class="annot"><a href="CheckedIO.Core.html#uncheckIOE"><span class="hs-identifier hs-type">uncheckIOE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040707"><span class="annot"><a href="#local-6989586621679040707"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679040708"><span class="annot"><a href="#local-6989586621679040708"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040707"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#IOE"><span class="hs-identifier hs-type">IOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040707"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040708"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040708"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-560"></span><span id="uncheckIOE"><span class="annot"><span class="annottext">uncheckIOE :: forall e a. Exception e =&gt; IOE e a -&gt; UnsafeIO a
</span><a href="CheckedIO.Core.html#uncheckIOE"><span class="hs-identifier hs-var hs-var">uncheckIOE</span></a></span></span><span> </span><span id="local-6989586621679041386"><span class="annot"><span class="annottext">IOE e a
</span><a href="#local-6989586621679041386"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-561"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIOE"><span class="hs-identifier hs-type">UnsafeIOE</span></a></span><span> </span><span id="local-6989586621679041395"><span class="annot"><span class="annottext">UnsafeIO (Either (AnyException e) a)
</span><a href="#local-6989586621679041395"><span class="hs-identifier hs-var">m'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either (AnyException e) a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either (AnyException e) a)
-&gt; IOE e a -&gt; IOE e (Either (AnyException e) a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IOE e a
</span><a href="#local-6989586621679041386"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">IOE e (Either (AnyException e) a)
-&gt; (Either (AnyException e) a -&gt; IOE e (Either (AnyException e) a))
-&gt; IOE e (Either (AnyException e) a)
forall a b. IOE e a -&gt; (a -&gt; IOE e b) -&gt; IOE e b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Either (AnyException e) a -&gt; IOE e (Either (AnyException e) a)
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; a -&gt; m a
</span><a href="CheckedIO.Core.html#evaluate"><span class="hs-identifier hs-var">evaluate</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IOE e (Either (AnyException e) a)
-&gt; (AnyException e -&gt; IOE Void (Either (AnyException e) a))
-&gt; IOE Void (Either (AnyException e) a)
forall e1 e2 a.
(Exception e1, Exception e2) =&gt;
IOE e1 a -&gt; (AnyException e1 -&gt; IOE e2 a) -&gt; IOE e2 a
</span><a href="CheckedIO.Core.html#catchAny"><span class="hs-operator hs-var">`catchAny`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="CheckedIO.Core.html#UIO"><span class="hs-identifier hs-type">UIO</span></a></span><span> </span><span class="annot"><span class="annottext">(Either (AnyException e) a -&gt; IOE Void (Either (AnyException e) a))
-&gt; (AnyException e -&gt; Either (AnyException e) a)
-&gt; AnyException e
-&gt; IOE Void (Either (AnyException e) a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">AnyException e -&gt; Either (AnyException e) a
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span class="hs-special">)</span><span>
</span><span id="line-562"></span><span>  </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">UnsafeIO (Either (AnyException e) a)
</span><a href="#local-6989586621679041395"><span class="hs-identifier hs-var">m'</span></a></span><span> </span><span class="annot"><span class="annottext">UnsafeIO (Either (AnyException e) a)
-&gt; (Either (AnyException e) a -&gt; IO a) -&gt; IO a
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-563"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679041396"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679041396"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; IO a
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679041396"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-564"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#AnySyncException"><span class="hs-identifier hs-type">AnySyncException</span></a></span><span> </span><span id="local-6989586621679041397"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041397"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-565"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">e -&gt; Maybe SomeSyncException
forall a b. (Typeable a, Typeable b) =&gt; a -&gt; Maybe b
</span><span class="hs-identifier hs-var">cast</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041397"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-566"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-type">SomeSyncException</span></a></span><span> </span><span id="local-6989586621679041400"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041400"><span class="hs-identifier hs-var">e'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e -&gt; IO a
forall e a. Exception e =&gt; e -&gt; IO a
</span><span class="hs-identifier hs-var">GHC.throwIO</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041400"><span class="hs-identifier hs-var">e'</span></a></span><span>
</span><span id="line-567"></span><span>            </span><span class="annot"><span class="annottext">Maybe SomeSyncException
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e -&gt; IO a
forall e a. Exception e =&gt; e -&gt; IO a
</span><span class="hs-identifier hs-var">GHC.throwIO</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041397"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-568"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#AnyAsyncException"><span class="hs-identifier hs-type">AnyAsyncException</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span id="local-6989586621679041405"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041405"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SomeAsyncException -&gt; IO a
forall e a. Exception e =&gt; e -&gt; IO a
</span><span class="hs-identifier hs-var">GHC.throwIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e -&gt; SomeAsyncException
forall e. Exception e =&gt; e -&gt; SomeAsyncException
</span><span class="hs-identifier hs-var">GHC.SomeAsyncException</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041405"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-569"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#AnyImpreciseException"><span class="hs-identifier hs-type">AnyImpreciseException</span></a></span><span> </span><span id="local-6989586621679041407"><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041407"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; IO a
forall e a. Exception e =&gt; e -&gt; IO a
</span><span class="hs-identifier hs-var">GHC.throwIO</span></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041407"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-570"></span><span>
</span><span id="line-571"></span><span class="annot"><span class="hs-comment">-- | 'uncheckIOE' specialized to UIO.</span></span><span>
</span><span id="line-572"></span><span id="local-6989586621679041408"><span class="annot"><a href="CheckedIO.Core.html#uncheckUIO"><span class="hs-identifier hs-type">uncheckUIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UIO"><span class="hs-identifier hs-type">UIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041408"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#UnsafeIO"><span class="hs-identifier hs-type">UnsafeIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679041408"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-573"></span><span id="uncheckUIO"><span class="annot"><span class="annottext">uncheckUIO :: forall a. UIO a -&gt; UnsafeIO a
</span><a href="CheckedIO.Core.html#uncheckUIO"><span class="hs-identifier hs-var hs-var">uncheckUIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE Void a -&gt; UnsafeIO a
forall e a. Exception e =&gt; IOE e a -&gt; UnsafeIO a
</span><a href="CheckedIO.Core.html#uncheckIOE"><span class="hs-identifier hs-var">uncheckIOE</span></a></span><span>
</span><span id="line-574"></span><span>
</span><span id="line-575"></span><span class="annot"><span class="hs-comment">-- | Internal-only function to rethrow an 'AnyException' caught by 'catchAnyM'.</span></span><span>
</span><span id="line-576"></span><span id="local-6989586621679040539"><span id="local-6989586621679040540"><span id="local-6989586621679040541"><span class="annot"><a href="CheckedIO.Core.html#rethrow"><span class="hs-identifier hs-type">rethrow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#MonadRunIOE"><span class="hs-identifier hs-type">MonadRunIOE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040539"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040540"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040539"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040540"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040541"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-577"></span><span id="rethrow"><span class="annot"><span class="annottext">rethrow :: forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; AnyException e -&gt; m a
</span><a href="CheckedIO.Core.html#rethrow"><span class="hs-identifier hs-var hs-var">rethrow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOE e a -&gt; m a
forall a. IOE e a -&gt; m a
forall e (m :: * -&gt; *) a. MonadRunIOE e m =&gt; IOE e a -&gt; m a
</span><a href="CheckedIO.Core.html#runIOE"><span class="hs-identifier hs-var">runIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(IOE e a -&gt; m a)
-&gt; (AnyException e -&gt; IOE e a) -&gt; AnyException e -&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UnsafeIO a -&gt; IOE e a
forall e a. UnsafeIO a -&gt; IOE e a
</span><a href="CheckedIO.Core.html#UnsafeIOE"><span class="hs-identifier hs-var">UnsafeIOE</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsafeIO a -&gt; IOE e a)
-&gt; (AnyException e -&gt; UnsafeIO a) -&gt; AnyException e -&gt; IOE e a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">AnyException SomeException -&gt; UnsafeIO a
forall e a. Exception e =&gt; e -&gt; IO a
</span><span class="hs-identifier hs-var">GHC.throwIO</span></span><span> </span><span class="annot"><span class="annottext">(AnyException SomeException -&gt; UnsafeIO a)
-&gt; (AnyException e -&gt; AnyException SomeException)
-&gt; AnyException e
-&gt; UnsafeIO a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(e -&gt; SomeException)
-&gt; AnyException e -&gt; AnyException SomeException
forall a b. (a -&gt; b) -&gt; AnyException a -&gt; AnyException b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; SomeException
forall e. Exception e =&gt; e -&gt; SomeException
</span><span class="hs-identifier hs-var">SomeException</span></span><span>
</span><span id="line-578"></span><span>
</span><span id="line-579"></span><span class="hs-comment">{----- Exceptions in IOE -----}</span><span>
</span><span id="line-580"></span><span>
</span><span id="line-581"></span><span class="hs-comment">-- | All exceptions floating around 'IOE' (synchronous</span><span>
</span><span id="line-582"></span><span class="hs-comment">-- or otherwise) will be an @AnyException SomeException@.</span><span>
</span><span id="line-583"></span><span class="hs-keyword">data</span><span> </span><span id="AnyException"><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-var">AnyException</span></a></span></span><span> </span><span id="local-6989586621679040340"><span class="annot"><a href="#local-6989586621679040340"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-584"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="AnySyncException"><span class="annot"><a href="CheckedIO.Core.html#AnySyncException"><span class="hs-identifier hs-var">AnySyncException</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679040340"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-585"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AnyAsyncException"><span class="annot"><a href="CheckedIO.Core.html#AnyAsyncException"><span class="hs-identifier hs-var">AnyAsyncException</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span>
</span><span id="line-586"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AnyImpreciseException"><span class="annot"><a href="CheckedIO.Core.html#AnyImpreciseException"><span class="hs-identifier hs-var">AnyImpreciseException</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span>
</span><span id="line-587"></span><span>  </span><span class="hs-comment">-- TODO: should ExitCode be handled specially?</span><span>
</span><span id="line-588"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679041418"><span id="local-6989586621679041420"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; AnyException a -&gt; AnyException b)
-&gt; (forall a b. a -&gt; AnyException b -&gt; AnyException a)
-&gt; Functor AnyException
forall a b. a -&gt; AnyException b -&gt; AnyException a
forall a b. (a -&gt; b) -&gt; AnyException a -&gt; AnyException b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; AnyException a -&gt; AnyException b
fmap :: forall a b. (a -&gt; b) -&gt; AnyException a -&gt; AnyException b
$c&lt;$ :: forall a b. a -&gt; AnyException b -&gt; AnyException a
&lt;$ :: forall a b. a -&gt; AnyException b -&gt; AnyException a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-589"></span><span>
</span><span id="line-590"></span><span id="local-6989586621679040720"><span id="local-6989586621679041423"><span id="local-6989586621679041432"><span id="local-6989586621679041436"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679040720"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040720"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-591"></span><span>
</span><span id="line-592"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679041447"><span id="local-6989586621679041451"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-593"></span><span>  </span><span id="local-6989586621679041454"><span class="annot"><span class="annottext">fromException :: SomeException -&gt; Maybe (AnyException SomeException)
</span><a href="#local-6989586621679041454"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromException</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyException SomeException -&gt; Maybe (AnyException SomeException)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(AnyException SomeException -&gt; Maybe (AnyException SomeException))
-&gt; (SomeException -&gt; AnyException SomeException)
-&gt; SomeException
-&gt; Maybe (AnyException SomeException)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; AnyException SomeException
</span><a href="CheckedIO.Core.html#toAnyException"><span class="hs-identifier hs-var">toAnyException</span></a></span><span>
</span><span id="line-594"></span><span>
</span><span id="line-595"></span><span class="annot"><a href="CheckedIO.Core.html#toAnyException"><span class="hs-identifier hs-type">toAnyException</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span>
</span><span id="line-596"></span><span id="toAnyException"><span class="annot"><span class="annottext">toAnyException :: SomeException -&gt; AnyException SomeException
</span><a href="CheckedIO.Core.html#toAnyException"><span class="hs-identifier hs-var hs-var">toAnyException</span></a></span></span><span> </span><span id="local-6989586621679041457"><span class="annot"><span class="annottext">someE :: SomeException
</span><a href="#local-6989586621679041457"><span class="hs-identifier hs-var">someE</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span id="local-6989586621679041546"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041546"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-597"></span><span>  </span><span class="annot"><span class="annottext">AnyException SomeException
-&gt; Maybe (AnyException SomeException) -&gt; AnyException SomeException
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SomeException -&gt; AnyException SomeException
</span><a href="#local-6989586621679041547"><span class="hs-identifier hs-var">asSync</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041457"><span class="hs-identifier hs-var">someE</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe (AnyException SomeException) -&gt; AnyException SomeException)
-&gt; ([Maybe (AnyException SomeException)]
    -&gt; Maybe (AnyException SomeException))
-&gt; [Maybe (AnyException SomeException)]
-&gt; AnyException SomeException
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Maybe (AnyException SomeException)]
-&gt; Maybe (AnyException SomeException)
forall (t :: * -&gt; *) (f :: * -&gt; *) a.
(Foldable t, Alternative f) =&gt;
t (f a) -&gt; f a
</span><span class="hs-identifier hs-var">asum</span></span><span> </span><span class="annot"><span class="annottext">([Maybe (AnyException SomeException)]
 -&gt; AnyException SomeException)
-&gt; [Maybe (AnyException SomeException)]
-&gt; AnyException SomeException
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-598"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">e -&gt; Maybe (AnyException SomeException)
forall a b. (Typeable a, Typeable b) =&gt; a -&gt; Maybe b
</span><span class="hs-identifier hs-var">cast</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041546"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-599"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ErrorCall -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041548"><span class="hs-identifier hs-var">asImprecise</span></a></span><span> </span><span class="annot"><span class="annottext">(ErrorCall -&gt; AnyException SomeException)
-&gt; Maybe ErrorCall -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.ErrorCall</span></span><span>
</span><span id="line-600"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TypeError -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041548"><span class="hs-identifier hs-var">asImprecise</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeError -&gt; AnyException SomeException)
-&gt; Maybe TypeError -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.TypeError</span></span><span>
</span><span id="line-601"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArithException -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041548"><span class="hs-identifier hs-var">asImprecise</span></a></span><span> </span><span class="annot"><span class="annottext">(ArithException -&gt; AnyException SomeException)
-&gt; Maybe ArithException -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.ArithException</span></span><span>
</span><span id="line-602"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArrayException -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041548"><span class="hs-identifier hs-var">asImprecise</span></a></span><span> </span><span class="annot"><span class="annottext">(ArrayException -&gt; AnyException SomeException)
-&gt; Maybe ArrayException -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.ArrayException</span></span><span>
</span><span id="line-603"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AssertionFailed -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041548"><span class="hs-identifier hs-var">asImprecise</span></a></span><span> </span><span class="annot"><span class="annottext">(AssertionFailed -&gt; AnyException SomeException)
-&gt; Maybe AssertionFailed -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.AssertionFailed</span></span><span>
</span><span id="line-604"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NestedAtomically -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041548"><span class="hs-identifier hs-var">asImprecise</span></a></span><span> </span><span class="annot"><span class="annottext">(NestedAtomically -&gt; AnyException SomeException)
-&gt; Maybe NestedAtomically -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.NestedAtomically</span></span><span>
</span><span id="line-605"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NoMethodError -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041548"><span class="hs-identifier hs-var">asImprecise</span></a></span><span> </span><span class="annot"><span class="annottext">(NoMethodError -&gt; AnyException SomeException)
-&gt; Maybe NoMethodError -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.NoMethodError</span></span><span>
</span><span id="line-606"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PatternMatchFail -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041548"><span class="hs-identifier hs-var">asImprecise</span></a></span><span> </span><span class="annot"><span class="annottext">(PatternMatchFail -&gt; AnyException SomeException)
-&gt; Maybe PatternMatchFail -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.PatternMatchFail</span></span><span>
</span><span id="line-607"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RecConError -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041548"><span class="hs-identifier hs-var">asImprecise</span></a></span><span> </span><span class="annot"><span class="annottext">(RecConError -&gt; AnyException SomeException)
-&gt; Maybe RecConError -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.RecConError</span></span><span>
</span><span id="line-608"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RecSelError -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041548"><span class="hs-identifier hs-var">asImprecise</span></a></span><span> </span><span class="annot"><span class="annottext">(RecSelError -&gt; AnyException SomeException)
-&gt; Maybe RecSelError -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.RecSelError</span></span><span>
</span><span id="line-609"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RecUpdError -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041548"><span class="hs-identifier hs-var">asImprecise</span></a></span><span> </span><span class="annot"><span class="annottext">(RecUpdError -&gt; AnyException SomeException)
-&gt; Maybe RecUpdError -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.RecUpdError</span></span><span>
</span><span id="line-610"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AsyncException -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041550"><span class="hs-identifier hs-var">asAsync</span></a></span><span> </span><span class="annot"><span class="annottext">(AsyncException -&gt; AnyException SomeException)
-&gt; Maybe AsyncException -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.AsyncException</span></span><span>
</span><span id="line-611"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CompactionFailed -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041550"><span class="hs-identifier hs-var">asAsync</span></a></span><span> </span><span class="annot"><span class="annottext">(CompactionFailed -&gt; AnyException SomeException)
-&gt; Maybe CompactionFailed -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.CompactionFailed</span></span><span>
</span><span id="line-612"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FixIOException -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041550"><span class="hs-identifier hs-var">asAsync</span></a></span><span> </span><span class="annot"><span class="annottext">(FixIOException -&gt; AnyException SomeException)
-&gt; Maybe FixIOException -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.FixIOException</span></span><span>
</span><span id="line-613"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AsyncException -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041550"><span class="hs-identifier hs-var">asAsync</span></a></span><span> </span><span class="annot"><span class="annottext">(AsyncException -&gt; AnyException SomeException)
-&gt; Maybe AsyncException -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.AsyncException</span></span><span>
</span><span id="line-614"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BlockedIndefinitelyOnSTM -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041550"><span class="hs-identifier hs-var">asAsync</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockedIndefinitelyOnSTM -&gt; AnyException SomeException)
-&gt; Maybe BlockedIndefinitelyOnSTM
-&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.BlockedIndefinitelyOnSTM</span></span><span>
</span><span id="line-615"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BlockedIndefinitelyOnMVar -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041550"><span class="hs-identifier hs-var">asAsync</span></a></span><span> </span><span class="annot"><span class="annottext">(BlockedIndefinitelyOnMVar -&gt; AnyException SomeException)
-&gt; Maybe BlockedIndefinitelyOnMVar
-&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.BlockedIndefinitelyOnMVar</span></span><span>
</span><span id="line-616"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Deadlock -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041550"><span class="hs-identifier hs-var">asAsync</span></a></span><span> </span><span class="annot"><span class="annottext">(Deadlock -&gt; AnyException SomeException)
-&gt; Maybe Deadlock -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.Deadlock</span></span><span>
</span><span id="line-617"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NonTermination -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041550"><span class="hs-identifier hs-var">asAsync</span></a></span><span> </span><span class="annot"><span class="annottext">(NonTermination -&gt; AnyException SomeException)
-&gt; Maybe NonTermination -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">GHC.NonTermination</span></span><span>
</span><span id="line-618"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">GHC.SomeAsyncException</span></span><span> </span><span id="local-6989586621679041553"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041553"><span class="hs-identifier hs-var">e'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e -&gt; AnyException SomeException
forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041550"><span class="hs-identifier hs-var">asAsync</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041553"><span class="hs-identifier hs-var">e'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SomeAsyncException -&gt; AnyException SomeException)
-&gt; Maybe SomeAsyncException -&gt; Maybe (AnyException SomeException)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe SomeAsyncException
forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var">castE</span></a></span><span>
</span><span id="line-619"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-620"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-621"></span><span>    </span><span class="annot"><a href="#local-6989586621679041547"><span class="hs-identifier hs-type">asSync</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span>
</span><span id="line-622"></span><span>    </span><span id="local-6989586621679041547"><span class="annot"><span class="annottext">asSync :: SomeException -&gt; AnyException SomeException
</span><a href="#local-6989586621679041547"><span class="hs-identifier hs-var hs-var">asSync</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; AnyException SomeException
forall e. e -&gt; AnyException e
</span><a href="CheckedIO.Core.html#AnySyncException"><span class="hs-identifier hs-var">AnySyncException</span></a></span><span>
</span><span id="line-623"></span><span>
</span><span id="line-624"></span><span>    </span><span id="local-6989586621679041554"><span class="annot"><a href="#local-6989586621679041550"><span class="hs-identifier hs-type">asAsync</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679041554"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679041554"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span></span><span>
</span><span id="line-625"></span><span>    </span><span id="local-6989586621679041550"><span class="annot"><span class="annottext">asAsync :: forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041550"><span class="hs-identifier hs-var hs-var">asAsync</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; AnyException SomeException
forall e. SomeException -&gt; AnyException e
</span><a href="CheckedIO.Core.html#AnyAsyncException"><span class="hs-identifier hs-var">AnyAsyncException</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeException -&gt; AnyException SomeException)
-&gt; (e -&gt; SomeException) -&gt; e -&gt; AnyException SomeException
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; SomeException
forall e. Exception e =&gt; e -&gt; SomeException
</span><span class="hs-identifier hs-var">SomeException</span></span><span>
</span><span id="line-626"></span><span>
</span><span id="line-627"></span><span>    </span><span id="local-6989586621679040746"><span class="annot"><a href="#local-6989586621679041548"><span class="hs-identifier hs-type">asImprecise</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040746"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679040746"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span></span><span>
</span><span id="line-628"></span><span>    </span><span id="local-6989586621679041548"><span class="annot"><span class="annottext">asImprecise :: forall e. Exception e =&gt; e -&gt; AnyException SomeException
</span><a href="#local-6989586621679041548"><span class="hs-identifier hs-var hs-var">asImprecise</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; AnyException SomeException
forall e. SomeException -&gt; AnyException e
</span><a href="CheckedIO.Core.html#AnyImpreciseException"><span class="hs-identifier hs-var">AnyImpreciseException</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeException -&gt; AnyException SomeException)
-&gt; (e -&gt; SomeException) -&gt; e -&gt; AnyException SomeException
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; SomeException
forall e. Exception e =&gt; e -&gt; SomeException
</span><span class="hs-identifier hs-var">SomeException</span></span><span>
</span><span id="line-629"></span><span>
</span><span id="line-630"></span><span>    </span><span class="annot"><a href="#local-6989586621679041549"><span class="hs-identifier hs-type">castE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040747"><span class="annot"><a href="#local-6989586621679040747"><span class="hs-identifier hs-type">e</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040747"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679040747"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-631"></span><span>    </span><span id="local-6989586621679041549"><span class="annot"><span class="annottext">castE :: forall e. Exception e =&gt; Maybe e
</span><a href="#local-6989586621679041549"><span class="hs-identifier hs-var hs-var">castE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; Maybe e
forall e. Exception e =&gt; SomeException -&gt; Maybe e
</span><span class="hs-identifier hs-var">fromException</span></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679041457"><span class="hs-identifier hs-var">someE</span></a></span><span>
</span><span id="line-632"></span><span>
</span><span id="line-633"></span><span class="annot"><a href="CheckedIO.Core.html#castAnyException"><span class="hs-identifier hs-type">castAnyException</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679040553"><span class="annot"><a href="#local-6989586621679040553"><span class="hs-identifier hs-type">e</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679040553"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="CheckedIO.Core.html#AnyException"><span class="hs-identifier hs-type">AnyException</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679040553"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-634"></span><span id="castAnyException"><span class="annot"><span class="annottext">castAnyException :: forall e.
Exception e =&gt;
AnyException SomeException -&gt; AnyException e
</span><a href="CheckedIO.Core.html#castAnyException"><span class="hs-identifier hs-var hs-var">castAnyException</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SomeException -&gt; e)
-&gt; AnyException SomeException -&gt; AnyException e
forall a b. (a -&gt; b) -&gt; AnyException a -&gt; AnyException b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; e
forall {p}. Typeable p =&gt; SomeException -&gt; p
</span><a href="#local-6989586621679041565"><span class="hs-identifier hs-var">castExpected</span></a></span><span>
</span><span id="line-635"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-636"></span><span>    </span><span id="local-6989586621679041565"><span class="annot"><span class="annottext">castExpected :: SomeException -&gt; p
</span><a href="#local-6989586621679041565"><span class="hs-identifier hs-var hs-var">castExpected</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SomeException</span></span><span> </span><span id="local-6989586621679041578"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041578"><span class="hs-identifier hs-var">eActual</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-637"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">e -&gt; Maybe p
forall a b. (Typeable a, Typeable b) =&gt; a -&gt; Maybe b
</span><span class="hs-identifier hs-var">cast</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041578"><span class="hs-identifier hs-var">eActual</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-638"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679041579"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679041579"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679041579"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-639"></span><span>        </span><span class="annot"><span class="annottext">Maybe p
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-640"></span><span>          </span><span class="annot"><span class="annottext">[Char] -&gt; p
forall a. [Char] -&gt; a
</span><span class="hs-identifier hs-var">errorWithoutStackTrace</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; p) -&gt; ([[Char]] -&gt; [Char]) -&gt; [[Char]] -&gt; p
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">([[Char]] -&gt; p) -&gt; [[Char]] -&gt; p
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-641"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;checked-io invariant violation:&quot;</span></span><span>
</span><span id="line-642"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;IOE contained an unexpected synchronous exception:&quot;</span></span><span>
</span><span id="line-643"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Expected `&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">TypeRep -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e -&gt; TypeRep
forall {k} (proxy :: k -&gt; *) (a :: k).
Typeable a =&gt;
proxy a -&gt; TypeRep
</span><span class="hs-identifier hs-var">typeRep</span></span><span> </span><span class="annot"><span class="annottext">(Proxy e -&gt; TypeRep) -&gt; Proxy e -&gt; TypeRep
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall t. Proxy t
forall {k} (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679040553"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;`,&quot;</span></span><span>
</span><span id="line-644"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;got `&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">TypeRep -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e -&gt; TypeRep
forall a. Typeable a =&gt; a -&gt; TypeRep
</span><span class="hs-identifier hs-var">typeOf</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041578"><span class="hs-identifier hs-var">eActual</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;`.&quot;</span></span><span>
</span><span id="line-645"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">e -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041578"><span class="hs-identifier hs-var">eActual</span></a></span><span>
</span><span id="line-646"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-647"></span><span>
</span><span id="line-648"></span><span class="hs-keyword">data</span><span> </span><span id="SomeSyncException"><span class="annot"><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-var">SomeSyncException</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679041583"><span class="annot"><a href="#local-6989586621679041583"><span class="hs-identifier hs-type">e</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679041583"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="SomeSyncException"><span class="annot"><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-var">SomeSyncException</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679041583"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-649"></span><span>
</span><span id="line-650"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679041586"><span id="local-6989586621679041590"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-type">SomeSyncException</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-651"></span><span>  </span><span id="local-6989586621679041592"><span class="annot"><span class="annottext">showsPrec :: Int -&gt; SomeSyncException -&gt; [Char] -&gt; [Char]
</span><a href="#local-6989586621679041592"><span class="hs-identifier hs-var hs-var hs-var hs-var">showsPrec</span></a></span></span><span> </span><span id="local-6989586621679041594"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679041594"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-type">SomeSyncException</span></a></span><span> </span><span id="local-6989586621679041598"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041598"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; e -&gt; [Char] -&gt; [Char]
forall a. Show a =&gt; Int -&gt; a -&gt; [Char] -&gt; [Char]
</span><span class="hs-identifier hs-var">showsPrec</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679041594"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679041598"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679041604"><span id="local-6989586621679041607"><span id="local-6989586621679041610"><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="CheckedIO.Core.html#SomeSyncException"><span class="hs-identifier hs-type">SomeSyncException</span></a></span></span></span></span><span>
</span><span id="line-654"></span></pre></body></html>